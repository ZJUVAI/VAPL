(this.webpackJsonpvapl=this.webpackJsonpvapl||[]).push([[0],{13:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return o}));var a=n(453),r=new a.EventEmitter;r.setMaxListeners(20);var i=function slot(e,t){return r.on(e,t)},s=function signal(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r.emit.apply(r,[e].concat(n))},o=function remove(e){r.removeAllListeners(e)}},272:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a=n(24),r=n.n(a),i=n(68),s=n(33),o=n(30),c=n(13),l=n(60),u=n(56),d=n(173),h=new(function(){function Server(){Object(o.a)(this,Server),this.timer=null,this.isExecuting=!1,this.files=new Map,this.count=0,this.interpreter=null,this.stateHistory=[],this.outputsHistory=[],this.step=0,this.linesShowUp=[],this.allVariables={},this.variableShowUp=[]}return Object(s.a)(Server,[{key:"dynamicLoadInterpreter",value:function(){var e=Object(i.a)(r.a.mark((function _callee(e){var t,a,i;return r.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"!==typeof e){r.next=4;break}throw new Error("Selected programming language is invalid.");case 4:if("c_cpp"!==e){r.next=11;break}return r.next=7,Promise.resolve().then(n.t.bind(null,371,7));case 7:t=r.sent,this.interpreter=new t.CPP14Interpreter,r.next=23;break;case 11:if("java"!==e){r.next=18;break}return r.next=14,Promise.resolve().then(n.t.bind(null,402,7));case 14:a=r.sent,this.interpreter=new a.Java8Interpreter,r.next=23;break;case 18:if("python"!==e){r.next=23;break}return r.next=21,Promise.resolve().then(n.t.bind(null,407,7));case 21:i=r.sent,this.interpreter=new i.Python3Interpreter;case 23:case"end":return r.stop()}}),_callee,this)})));return function dynamicLoadInterpreter(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(i.a)(r.a.mark((function _callee2(e){return r.a.wrap((function _callee2$(t){for(;;)switch(t.prev=t.next){case 0:return this.count=0,t.next=3,this.dynamicLoadInterpreter(e);case 3:if(null!==this.interpreter){t.next=5;break}throw new Error("Interpreter is not found");case 5:this.interpreter.setFileList(this.files),this.stateHistory=[],this.outputsHistory=[];case 8:case"end":return t.stop()}}),_callee2,this)})));return function reset(t){return e.apply(this,arguments)}}()},{key:"addFile",value:function addFile(e){var t=this,n=new FileReader;return new Promise((function(a,r){n.onerror=function(){n.abort(),r(new DOMException("Problem parsing input file."))},n.onload=function(){n.result instanceof ArrayBuffer?(t.files.set(e.name,n.result),a(n.result)):r(new DOMException("Problem loading input file."))},n.readAsArrayBuffer(e)}))}},{key:"upload",value:function(){var e=Object(i.a)(r.a.mark((function _callee3(e){var t=this;return r.a.wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(Array.from(e).map((function(e){return t.addFile(e)})));case 2:return n.abrupt("return",this.files);case 3:case"end":return n.stop()}}),_callee3,this)})));return function upload(t){return e.apply(this,arguments)}}()},{key:"delete",value:function _delete(e){return this.files.delete(e),this.files}},{key:"send",value:function(){var e=Object(i.a)(r.a.mark((function _callee4(e){var t,n,a,i,s,o,c,l;return r.a.wrap((function _callee4$(r){for(;;)switch(r.prev=r.next){case 0:t=e.controlEvent,n=e.sourcecode,a=e.inputText,i=e.stdinText,s=e.lineNumOfBreakpoint,o=e.progLang,c=e.step,l=void 0===c?0:c,r.t0=t,r.next="Start"===r.t0?4:"Stop"===r.t0?5:"BackAll"===r.t0?6:"StepBack"===r.t0?7:"Step"===r.t0?8:"StepAll"===r.t0?9:"JumpTo"===r.t0?10:"Exec"===r.t0?11:"SyntaxCheck"===r.t0?12:13;break;case 4:return r.abrupt("return",this.Start(n,a,o));case 5:return r.abrupt("return",this.Stop(n));case 6:return r.abrupt("return",this.BackAll(n));case 7:return r.abrupt("return",this.StepBack(n));case 8:return r.abrupt("return",this.Step(n,i));case 9:return r.abrupt("return",this.StepAll(n,s));case 10:return r.abrupt("return",this.JumpTo(n,Math.max(l-1,0)));case 11:return r.abrupt("return",this.Exec(n,a,o,s));case 12:return r.abrupt("return",this.SyntaxCheck(n,o));case 13:case"end":return r.stop()}}),_callee4,this)})));return function send(t){return e.apply(this,arguments)}}()},{key:"Start",value:function(){var e=Object(i.a)(r.a.mark((function _callee5(e,t,n){var a,i,s,o,c,d,h,g,p,b,f,m,v,j,O,k,S,C,w,N,A,V,E,T,B,I,F,H,D,M,_,P=this;return r.a.wrap((function _callee5$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.reset(n);case 2:if(null!==this.interpreter){r.next=4;break}throw new Error("interpreter is not found");case 4:for(a=e.split(/\r\n|\r|\n/).length,t&&this.interpreter.stdin(t),i=this.interpreter.startStepExecution(e),s=this.recordExecState(i),o=this.interpreter.getStdout(),c=this.recordOutputText(o),d=[],h={},g=[],p=1;p<=a;p++)d.push({lineNumber:p,steps:[],color:"",depth:[],visible:!0});for(b={execState:s,output:c,sourcecode:e,debugState:"First",step:this.count,errors:[],files:this.files},this.isExecuting=!0;"EOF"!==b.debugState;)f=this.stateHistory[this.count].getCurrentExpr(),m=this.stateHistory[this.count].getNextExpr(),v=this.stateHistory[this.count].getStacks(),j=v[v.length-1].name,O=1,j.split(".").length>1&&(O=Number(j.split(".")[1])),k=m.codeRange,d[k.begin.y-1].steps.push(this.count+1),d[k.begin.y-1].depth.push(O),v.forEach((function(e){var t=e.name.split(".")[0];t in h||(h[t]={}),e.getVariables().forEach((function(e){Object(l.inArray)(e.name,Object.keys(h[t]))<0&&(h[t][e.name]=g.length,g.push({funcName:t,name:e.name,steps:[P.count],color:"",visible:!0,variable:e}))}))})),S=f.constructor.name,f instanceof u.UniBinOp&&(C=this.binOp(f))&&(w=v[v.length-1],N=C,g[h[w.name.split(".")[0]][N]].steps.push(this.count)),A=null,this.count>0&&(A=this.stateHistory[this.count-1].getNextExpr(),V=A.constructor.name,A instanceof u.UniBinOp&&"UniBinOp"!==S?(E=this.binOp(A))&&(T=v[v.length-1],B=E,g[h[T.name.split(".")[0]][B]].steps.push(this.count+1)):"UniReturn"===V&&"UniVariableDec"===S?(I=v[v.length-1],g[h[I.name.split(".")[0]][this.uniReturn(f)]].steps.push(this.count)):"UniReturn"===V&&f instanceof u.UniBinOp&&(F=this.returnBinOp(f))&&(H=v[v.length-1],D=F,g[h[H.name.split(".")[0]][D]].steps.push(this.count))),b=this.Step(e);return console.log(this.stateHistory),M=this.count+1,this.isExecuting=!0,(_=this.BackAll(e)).stepCount=M,_.linesShowUp=d,_.allVariables=h,_.variableShowUp=g,this.step=M,this.linesShowUp=d,this.allVariables=h,this.variableShowUp=g,_.outputChange=this.isOutputChange(this.count),r.abrupt("return",_);case 31:case"end":return r.stop()}}),_callee5,this)})));return function Start(t,n,a){return e.apply(this,arguments)}}()},{key:"binOp",value:function binOp(e){var t=e.operator,n=e.right;if(n instanceof d.UniMethodCall){if("malloc"!==n.methodName.name)return!1}else if(n instanceof u.UniBinOp)return this.binOp(n);if("="!==t){var a=e.left;if(a instanceof d.UniMethodCall)return!1;if(a instanceof u.UniBinOp)return this.binOp(a)}var r=e.left;if(!r)return!1;for(;!(r instanceof d.UniIdent);)r instanceof d.UniUnaryOp?r=r.expr:r instanceof u.UniBinOp&&(r=r.left);return r.name}},{key:"uniReturn",value:function uniReturn(e){return e.variables[0].name}},{key:"returnBinOp",value:function returnBinOp(e){return"="===e.operator&&e.left.name}},{key:"Stop",value:function Stop(e){return null!==this.timer&&clearTimeout(this.timer),this.interpreter=null,{sourcecode:e,execState:void 0,debugState:"Stop",output:"",step:this.count,errors:[],files:this.files}}},{key:"BackAll",value:function BackAll(e){return this.count=0,{execState:this.stateHistory[this.count],output:this.outputsHistory[this.count],sourcecode:e,debugState:"First",step:this.count,errors:[],files:this.files,stepCount:this.step,linesShowUp:this.linesShowUp,allVariables:this.allVariables,variableShowUp:this.variableShowUp}}},{key:"StepBack",value:function StepBack(e){1<=this.count&&(this.count-=1);var t=this.stateHistory[this.count],n=void 0;return this.count>0&&(n=this.stateHistory[this.count-1]),{execState:t,lastState:n,output:this.outputsHistory[this.count],sourcecode:e,debugState:"Debugging",step:this.count,errors:[],files:this.files}}},{key:"Step",value:function Step(e,t){if(++this.count,this.count<this.stateHistory.length){var n=this.stateHistory[this.count],a=void 0;return this.count>0&&(a=this.stateHistory[this.count-1]),{execState:n,lastState:a,output:this.outputsHistory[this.count],sourcecode:e,debugState:"Debugging",step:this.count,errors:[],files:this.files,outputChange:this.isOutputChange(this.count)}}if(this.isExecuting){if(null===this.interpreter)throw new Error("engine is not found");this.interpreter.getIsWaitingForStdin()&&void 0!==t&&this.interpreter.stdin(t);var r=this.interpreter.stepExecute(),i=this.recordExecState(r),s=this.interpreter.getStdout(),o=this.recordOutputText(s),c="Debugging";return this.interpreter.getIsWaitingForStdin()?c="stdin":this.interpreter.isStepExecutionRunning()||(c="EOF",this.isExecuting=!1),{execState:i,lastState:this.stateHistory[this.stateHistory.length-2],output:o,sourcecode:e,debugState:c,step:this.count,errors:[],files:this.files,outputChange:this.isOutputChange(this.count)}}return this.count=this.stateHistory.length-1,{output:this.outputsHistory[this.count],sourcecode:e,execState:this.getLastHistory(),debugState:"EOF",step:this.count,errors:[],files:this.files,outputChange:this.isOutputChange(this.count)}}},{key:"StepAll",value:function StepAll(t,n){var a=this,r=this.count;!function loop(){var r=a.Step(t);if("EOF"!==r.debugState)if("stdin"!==r.debugState){if("undefined"!==typeof n&&"undefined"!==typeof r.execState){var i=r.execState.getNextExpr().codeRange;if(i&&n.includes(i.begin.y-1))return void Object(c.b)("Breakpoint",r)}a.timer=e.setTimeout(loop.bind(a),1)}else Object(c.b)("stdin",r);else Object(c.b)("EOF",r)}();return{execState:this.stateHistory[r],output:this.outputsHistory[r],sourcecode:t,debugState:"Executing",step:r,errors:[],files:this.files}}},{key:"JumpTo",value:function JumpTo(e,t){this.count=t;var n=this.stateHistory[this.count],a=void 0;return this.count>0&&(a=this.stateHistory[this.count-1]),{execState:n,lastState:a,output:this.outputsHistory[this.count],sourcecode:e,debugState:"Debugging",step:this.count,errors:[],files:this.files}}},{key:"Exec",value:function(){var e=Object(i.a)(r.a.mark((function _callee6(e,t,n,a){return r.a.wrap((function _callee6$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.Start(e,t,n);case 2:return r.abrupt("return",this.StepAll(e,a));case 3:case"end":return r.stop()}}),_callee6,this)})));return function Exec(t,n,a,r){return e.apply(this,arguments)}}()},{key:"SyntaxCheck",value:function(){var e=Object(i.a)(r.a.mark((function _callee7(e,t){var n,a;return r.a.wrap((function _callee7$(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.dynamicLoadInterpreter(t);case 2:if(null!==this.interpreter){r.next=4;break}throw new Error("Interpreter is not found");case 4:return n=this.interpreter.checkSyntaxError(e),a={errors:n,sourcecode:e,execState:void 0,debugState:"Stop",output:"",step:this.count,files:this.files},r.abrupt("return",a);case 7:case"end":return r.stop()}}),_callee7,this)})));return function SyntaxCheck(t,n){return e.apply(this,arguments)}}()},{key:"recordOutputText",value:function recordOutputText(e){return this.outputsHistory.push(e),e}},{key:"recordExecState",value:function recordExecState(e){return this.stateHistory.push(e),e}},{key:"getLastHistory",value:function getLastHistory(){return this.stateHistory[this.stateHistory.length-1]}},{key:"isOutputChange",value:function isOutputChange(e){return 0!==e&&this.outputsHistory[e].length>this.outputsHistory[e-1].length}}]),Server}())}).call(this,n(119))},334:function(e,t,n){},335:function(e,t,n){},336:function(e,t,n){},437:function(e,t,n){},458:function(e,t,n){var a;!function(n,r,i,s){"use strict";var o={URL:n.URL||n.webkitURL||n.mozURL||n.msURL,getUserMedia:function(){var e=i.getUserMedia||i.webkitGetUserMedia||i.mozGetUserMedia||i.msGetUserMedia;return e?e.bind(i):e}(),requestAnimFrame:n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame,requestTimeout:function requestTimeout(e,t){if(e=e||o.noop,t=t||0,!o.requestAnimFrame)return setTimeout(e,t);var n=(new Date).getTime(),a=new Object,r=o.requestAnimFrame;return a.value=r((function loop(){(new Date).getTime()-n>=t?e.call():a.value=r(loop)})),a},Blob:n.Blob||n.BlobBuilder||n.WebKitBlobBuilder||n.MozBlobBuilder||n.MSBlobBuilder,btoa:function(){var e=n.btoa||function(e){for(var t="",n=0,a=e.length,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=void 0,s=void 0,o=void 0,c=void 0,l=void 0,u=void 0,d=void 0;n<a;)c=(i=e.charCodeAt(n++))>>2,l=(3&i)<<4|(s=e.charCodeAt(n++))>>4,u=(15&s)<<2|(o=e.charCodeAt(n++))>>6,d=63&o,isNaN(s)?u=d=64:isNaN(o)&&(d=64),t=t+r.charAt(c)+r.charAt(l)+r.charAt(u)+r.charAt(d);return t};return e?e.bind(n):o.noop}(),isObject:function isObject(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},isEmptyObject:function isEmptyObject(e){return o.isObject(e)&&!Object.keys(e).length},isArray:function isArray(e){return e&&Array.isArray(e)},isFunction:function isFunction(e){return e&&"function"===typeof e},isElement:function isElement(e){return e&&1===e.nodeType},isString:function isString(e){return"string"===typeof e||"[object String]"===Object.prototype.toString.call(e)},isSupported:{canvas:function canvas(){var e=r.createElement("canvas");return e&&e.getContext&&e.getContext("2d")},webworkers:function webworkers(){return n.Worker},blob:function blob(){return o.Blob},Uint8Array:function Uint8Array(){return n.Uint8Array},Uint32Array:function Uint32Array(){return n.Uint32Array},videoCodecs:function(){var e=r.createElement("video"),t={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{e&&e.canPlayType&&(t.mp4=""!==e.canPlayType('video/mp4; codecs="mp4v.20.8"'),t.h264=""!==(e.canPlayType('video/mp4; codecs="avc1.42E01E"')||e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),t.ogv=""!==e.canPlayType('video/ogg; codecs="theora"'),t.ogg=""!==e.canPlayType('video/ogg; codecs="theora"'),t.webm=-1!==e.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(n){}return t}()},noop:function noop(){},each:function each(e,t){var n=void 0,a=void 0;if(o.isArray(e))for(n=-1,a=e.length;++n<a&&!1!==t(n,e[n]););else if(o.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break},mergeOptions:function mergeOptions(e,t){if(o.isObject(e)&&o.isObject(t)&&Object.keys){var n={};return o.each(e,(function(t,a){n[t]=e[t]})),o.each(t,(function(a,r){var i=t[a];o.isObject(i)&&e[a]?n[a]=o.mergeOptions(e[a],i):n[a]=i})),n}},setCSSAttr:function setCSSAttr(e,t,n){o.isElement(e)&&(o.isString(t)&&o.isString(n)?e.style[t]=n:o.isObject(t)&&o.each(t,(function(t,n){e.style[t]=n})))},removeElement:function removeElement(e){o.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function createWebWorker(e){if(!o.isString(e))return{};try{var t=new o.Blob([e],{type:"text/javascript"}),n=o.URL.createObjectURL(t);return{objectUrl:n,worker:new Worker(n)}}catch(a){return""+a}},getExtension:function getExtension(e){return e.substr(e.lastIndexOf(".")+1,e.length)},getFontSize:function getFontSize(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{};if(!r.body||!1===e.resizeFont)return e.fontSize;var t=e.text,n=e.gifWidth,a=parseInt(e.fontSize,10),i=parseInt(e.minFontSize,10),o=r.createElement("div"),c=r.createElement("span");for(o.setAttribute("width",n),o.appendChild(c),c.innerHTML=t,c.style.fontSize=a+"px",c.style.textIndent="-9999px",c.style.visibility="hidden",r.body.appendChild(c);c.offsetWidth>n&&a>=i;)c.style.fontSize=--a+"px";return r.body.removeChild(c),a+"px"},webWorkerError:!1},c=Object.freeze({default:o}),l={validate:function validate(e){e=o.isObject(e)?e:{};var t={};return o.each(l.validators,(function(n,a){var r=a.errorCode;if(!e[r]&&!a.condition)return(t=a).error=!0,!1})),delete t.condition,t},isValid:function isValid(e){var isValid=!0!==l.validate(e).error;return isValid},validators:[{condition:o.isFunction(o.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:o.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:o.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:o.isFunction(o.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:o.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:o.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:o.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}},u=Object.freeze({default:l}),d=function noop(){},h={sampleInterval:10,numWorkers:2,filter:"",gifWidth:200,gifHeight:200,interval:.1,numFrames:10,frameDuration:1,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:d,completeCallback:d,saveRenderingContexts:!1,savedRenderingContexts:[],showFrameText:!0,crossOrigin:"Anonymous",waterMark:null,waterMarkHeight:null,waterMarkWidth:null,waterMarkXCoordinate:1,waterMarkYCoordinate:1},g=Object.freeze({default:h});function isWebCamGIFSupported(){return l.isValid()}function NeuQuant(){var e,t,n,a,r,i=256,s=499,o=491,c=487,l=503,u=3*l,d=i-1,h=4,g=100,p=16,b=1<<p,f=10,m=10,v=b>>m,j=b<<f-m,O=i>>3,k=6,S=1<<k,C=O*S,w=30,N=10,A=1<<N,V=8,E=1<<V,T=N+V,B=1<<T,I=[],F=[],H=[],D=[];function NeuQuantConstructor(e,s,o){var c,l;for(t=e,n=s,a=o,r=new Array(i),c=0;c<i;c++)r[c]=new Array(4),(l=r[c])[0]=l[1]=l[2]=(c<<h+8)/i|0,H[c]=b/i|0,F[c]=0}function colorMap(){for(var e=[],t=new Array(i),n=0;n<i;n++)t[r[n][3]]=n;for(var a=0,s=0;s<i;s++){var o=t[s];e[a++]=r[o][0],e[a++]=r[o][1],e[a++]=r[o][2]}return e}function inxbuild(){var e,t,n,a,s,o,c,l;for(c=0,l=0,e=0;e<i;e++){for(n=e,a=(s=r[e])[1],t=e+1;t<i;t++)(o=r[t])[1]<a&&(n=t,a=o[1]);if(o=r[n],e!=n&&(t=o[0],o[0]=s[0],s[0]=t,t=o[1],o[1]=s[1],s[1]=t,t=o[2],o[2]=s[2],s[2]=t,t=o[3],o[3]=s[3],s[3]=t),a!=c){for(I[c]=l+e>>1,t=c+1;t<a;t++)I[t]=e;c=a,l=e}}for(I[c]=l+d>>1,t=c+1;t<256;t++)I[t]=d}function learn(){var r,i,d,p,b,f,m,v,j,O,S,N,V,T;for(n<u&&(a=1),e=30+(a-1)/3,N=t,V=0,T=n,O=(S=n/(3*a))/g|0,v=A,(m=(f=C)>>k)<=1&&(m=0),r=0;r<m;r++)D[r]=v*((m*m-r*r)*E/(m*m));for(j=n<u?3:n%s!==0?3*s:n%o!==0?3*o:n%c!==0?3*c:3*l,r=0;r<S;)if(altersingle(v,i=contest(d=(255&N[V+0])<<h,p=(255&N[V+1])<<h,b=(255&N[V+2])<<h),d,p,b),0!==m&&alterneigh(m,i,d,p,b),(V+=j)>=T&&(V-=n),0===O&&(O=1),++r%O===0)for(v-=v/e,(m=(f-=f/w)>>k)<=1&&(m=0),i=0;i<m;i++)D[i]=v*((m*m-i*i)*E/(m*m))}function map(e,t,n){var a,s,o,c,l,u,d;for(l=1e3,d=-1,s=(a=I[t])-1;a<i||s>=0;)a<i&&((o=(u=r[a])[1]-t)>=l?a=i:(a++,o<0&&(o=-o),(c=u[0]-e)<0&&(c=-c),(o+=c)<l&&((c=u[2]-n)<0&&(c=-c),(o+=c)<l&&(l=o,d=u[3])))),s>=0&&((o=t-(u=r[s])[1])>=l?s=-1:(s--,o<0&&(o=-o),(c=u[0]-e)<0&&(c=-c),(o+=c)<l&&((c=u[2]-n)<0&&(c=-c),(o+=c)<l&&(l=o,d=u[3]))));return d}function process(){return learn(),unbiasnet(),inxbuild(),colorMap()}function unbiasnet(){var e;for(e=0;e<i;e++)r[e][0]>>=h,r[e][1]>>=h,r[e][2]>>=h,r[e][3]=e}function alterneigh(e,t,n,a,s){var o,c,l,u,d,h,g;for((l=t-e)<-1&&(l=-1),(u=t+e)>i&&(u=i),o=t+1,c=t-1,h=1;o<u||c>l;){if(d=D[h++],o<u){g=r[o++];try{g[0]-=d*(g[0]-n)/B|0,g[1]-=d*(g[1]-a)/B|0,g[2]-=d*(g[2]-s)/B|0}catch(p){}}if(c>l){g=r[c--];try{g[0]-=d*(g[0]-n)/B|0,g[1]-=d*(g[1]-a)/B|0,g[2]-=d*(g[2]-s)/B|0}catch(p){}}}}function altersingle(e,t,n,a,i){var s=r[t],o=e/A;s[0]-=o*(s[0]-n)|0,s[1]-=o*(s[1]-a)|0,s[2]-=o*(s[2]-i)|0}function contest(e,t,n){var a,s,o,c,l,u,d,g,b,O;for(b=g=~(1<<31),d=u=-1,a=0;a<i;a++)(s=(O=r[a])[0]-e)<0&&(s=-s),(o=O[1]-t)<0&&(o=-o),s+=o,(o=O[2]-n)<0&&(o=-o),(s+=o)<g&&(g=s,u=a),(c=s-(F[a]>>p-h))<b&&(b=c,d=a),l=H[a]>>m,H[a]-=l,F[a]+=l<<f;return H[u]+=v,F[u]-=j,d}NeuQuantConstructor.apply(this,arguments);var M={};return M.map=map,M.process=process,M}function workerCode(){try{this.onmessage=function(t){var n,a=t.data||{};a.gifshot&&(n=e.run(a),postMessage(n))}}catch(t){}var e={dataToRGB:function dataToRGB(e,t,n){for(var a=t*n*4,r=0,i=[];r<a;)i.push(e[r++]),i.push(e[r++]),i.push(e[r++]),r++;return i},componentizedPaletteToArray:function componentizedPaletteToArray(e){e=e||[];for(var t=[],n=0;n<e.length;n+=3){var a=e[n],r=e[n+1],i=e[n+2];t.push(a<<16|r<<8|i)}return t},processFrameWithQuantizer:function processFrameWithQuantizer(e,t,n,a){for(var r=this.dataToRGB(e,t,n),i=new NeuQuant(r,r.length,a),s=i.process(),o=new Uint32Array(this.componentizedPaletteToArray(s)),c=t*n,l=new Uint8Array(c),u=0,d=0;d<c;d++){var h=r[u++],g=r[u++],p=r[u++];l[d]=i.map(h,g,p)}return{pixels:l,palette:o}},run:function run(e){var t=e=e||{},n=t.height,a=(t.palette,t.sampleInterval),r=t.width,i=e.data;return this.processFrameWithQuantizer(i,r,n,a)}};return e}function gifWriter(e,t,n,a){var r=0,i=(a=a===s?{}:a).loop===s?null:a.loop,o=a.palette===s?null:a.palette;if(t<=0||n<=0||t>65535||n>65535)throw"Width/Height invalid.";e[r++]=71,e[r++]=73,e[r++]=70,e[r++]=56,e[r++]=57,e[r++]=97;if(e[r++]=255&t,e[r++]=t>>8&255,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=0|(null!==o?128:0),e[r++]=0,e[r++]=0,null!==i){if(i<0||i>65535)throw"Loop count invalid.";e[r++]=33,e[r++]=255,e[r++]=11,e[r++]=78,e[r++]=69,e[r++]=84,e[r++]=83,e[r++]=67,e[r++]=65,e[r++]=80,e[r++]=69,e[r++]=50,e[r++]=46,e[r++]=48,e[r++]=3,e[r++]=1,e[r++]=255&i,e[r++]=i>>8&255,e[r++]=0}var c=!1;this.addFrame=function(t,n,a,i,l,u){if(!0===c&&(--r,c=!1),u=u===s?{}:u,t<0||n<0||t>65535||n>65535)throw"x/y invalid.";if(a<=0||i<=0||a>65535||i>65535)throw"Width/Height invalid.";if(l.length<a*i)throw"Not enough pixels for the frame size.";var d=!0,h=u.palette;if(h!==s&&null!==h||(d=!1,h=o),h===s||null===h)throw"Must supply either a local or global palette.";for(var g=function check_palette_and_num_colors(e){var t=e.length;if(t<2||t>256||t&t-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return t}(h),p=0;g>>=1;)++p;g=1<<p;var b=u.delay===s?0:u.delay,f=u.disposal===s?0:u.disposal;if(f<0||f>3)throw"Disposal out of range.";var m=!1,v=0;if(u.transparent!==s&&null!==u.transparent&&(m=!0,(v=u.transparent)<0||v>=g))throw"Transparent color index.";if((0!==f||m||0!==b)&&(e[r++]=33,e[r++]=249,e[r++]=4,e[r++]=f<<2|(!0===m?1:0),e[r++]=255&b,e[r++]=b>>8&255,e[r++]=v,e[r++]=0),e[r++]=44,e[r++]=255&t,e[r++]=t>>8&255,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=255&i,e[r++]=i>>8&255,e[r++]=!0===d?128|p-1:0,!0===d)for(var j=0,O=h.length;j<O;++j){var k=h[j];e[r++]=k>>16&255,e[r++]=k>>8&255,e[r++]=255&k}r=function GifWriterOutputLZWCodeStream(e,t,n,a){e[t++]=n;var r=t++,i=1<<n,o=i-1,c=i+1,l=c+1,u=n+1,d=0,h=0;function emit_bytes_to_buffer(n){for(;d>=n;)e[t++]=255&h,h>>=8,d-=8,t===r+256&&(e[r]=255,r=t++)}function emit_code(e){h|=e<<d,d+=u,emit_bytes_to_buffer(8)}var g=a[0]&o,p={};emit_code(i);for(var b=1,f=a.length;b<f;++b){var m=a[b]&o,v=g<<8|m,j=p[v];if(j===s){for(h|=g<<d,d+=u;d>=8;)e[t++]=255&h,h>>=8,d-=8,t===r+256&&(e[r]=255,r=t++);4096===l?(emit_code(i),l=c+1,u=n+1,p={}):(l>=1<<u&&++u,p[v]=l++),g=m}else g=j}emit_code(g),emit_code(c),emit_bytes_to_buffer(1),r+1===t?e[r]=0:(e[r]=t-r-1,e[t++]=0);return t}(e,r,p<2?2:p,l)},this.end=function(){return!1===c&&(e[r++]=59,c=!0),r}}var p=function noop(){},b=function AnimatedGIF(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=p,this.onRenderProgressCallback=p,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};function getBase64GIF(e,t){e.getBase64GIF((function(e){t({error:!1,errorCode:"",errorMsg:"",image:e})}))}b.prototype={workerMethods:workerCode(),initializeWebWorkers:function initializeWebWorkers(e){var t,n=NeuQuant.toString()+"("+workerCode.toString()+"());",a=void 0,i=void 0,s=void 0,c=-1,l="";for(t=e.numWorkers;++c<t;)a=o.createWebWorker(n),o.isObject(a)?(i=a.objectUrl,s=a.worker,this.workers.push({worker:s,objectUrl:i}),this.availableWorkers.push(s)):(l=a,o.webWorkerError=!!a);this.workerError=l,this.canvas=r.createElement("canvas"),this.canvas.width=e.gifWidth,this.canvas.height=e.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function getWorker(){return this.availableWorkers.pop()},freeWorker:function freeWorker(e){this.availableWorkers.push(e)},byteMap:function(){for(var e=[],t=0;t<256;t++)e[t]=String.fromCharCode(t);return e}(),bufferToString:function bufferToString(e){for(var t=e.length,n="",a=-1;++a<t;)n+=this.byteMap[e[a]];return n},onFrameFinished:function onFrameFinished(e){var t=this,n=t.frames,a=!!(t.options.images||[]).length,r=n.every((function(e){return!e.beingProcessed&&e.done}));t.numRenderedFrames++,a&&e(t.numRenderedFrames/n.length),t.onRenderProgressCallback(.75*t.numRenderedFrames/n.length),r?t.generatingGIF||t.generateGIF(n,t.onRenderCompleteCallback):o.requestTimeout((function(){t.processNextFrame()}),1)},processFrame:function processFrame(e){var t=this,n=(this.options,this.options),a=n.progressCallback,r=n.sampleInterval,i=this.frames,o=void 0,c=void 0,l=function done(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},n=e.data;delete o.data,o.pixels=Array.prototype.slice.call(n.pixels),o.palette=Array.prototype.slice.call(n.palette),o.done=!0,o.beingProcessed=!1,t.freeWorker(c),t.onFrameFinished(a)};(o=i[e]).beingProcessed||o.done?this.onFrameFinished():(o.sampleInterval=r,o.beingProcessed=!0,o.gifshot=!0,(c=this.getWorker())?(c.onmessage=l,c.postMessage(o)):l({data:t.workerMethods.run(o)}))},startRendering:function startRendering(e){this.onRenderCompleteCallback=e;for(var t=0;t<this.options.numWorkers&&t<this.frames.length;t++)this.processFrame(t)},processNextFrame:function processNextFrame(){for(var e=-1,t=0;t<this.frames.length;t++){var n=this.frames[t];if(!n.done&&!n.beingProcessed){e=t;break}}e>=0&&this.processFrame(e)},generateGIF:function generateGIF(e,t){var n=[],a={loop:this.repeat},r=this.options,i=r.interval,s=r.frameDuration,c=!!r.images.length,l=r.gifHeight,u=r.gifWidth,d=new gifWriter(n,u,l,a),h=this.onRenderProgressCallback,g=c?100*i:0,p=void 0;this.generatingGIF=!0,o.each(e,(function(t,n){var a=n.palette;h(.75+.25*n.position*1/e.length);for(var r=0;r<s;r++)d.addFrame(0,0,u,l,n.pixels,{palette:a,delay:g})})),d.end(),h(1),this.frames=[],this.generatingGIF=!1,o.isFunction(t)&&(p=this.bufferToString(n),t("data:image/gif;base64,"+o.btoa(p)))},setRepeat:function setRepeat(e){this.repeat=e},addFrame:function addFrame(e,t,n){t=o.isObject(t)?t:{};var a=this,r=a.ctx,i=a.options,s=i.gifWidth,c=i.gifHeight,l=o.getFontSize(t),u=t,d=u.filter,h=u.fontColor,g=u.fontFamily,p=u.fontWeight,b=(u.gifHeight,u.gifWidth,u.text),f=u.textAlign,m=u.textBaseline,v=u.waterMark,j=u.waterMarkHeight,O=u.waterMarkWidth,k=u.waterMarkXCoordinate,S=u.waterMarkYCoordinate,C=t.textXCoordinate?t.textXCoordinate:"left"===f?1:"right"===f?s:s/2,w=t.textYCoordinate?t.textYCoordinate:"top"===m?1:"center"===m?c/2:c,N=p+" "+l+" "+g,A=n&&t.showFrameText?n:b,V=void 0;try{r.filter=d,r.drawImage(e,0,0,s,c),A&&(r.font=N,r.fillStyle=h,r.textAlign=f,r.textBaseline=m,r.fillText(A,C,w)),v&&r.drawImage(v,k,S,O,j),V=r.getImageData(0,0,s,c),a.addFrameImageData(V)}catch(E){return""+E}},addFrameImageData:function addFrameImageData(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},t=this.frames,n=e.data;this.frames.push({data:n,width:e.width,height:e.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:t.length})},onRenderProgress:function onRenderProgress(e){this.onRenderProgressCallback=e},isRendering:function isRendering(){return this.generatingGIF},getBase64GIF:function getBase64GIF(e){var t=this;t.startRendering((function onRenderComplete(n){t.destroyWorkers(),o.requestTimeout((function(){e(n)}),0)}))},destroyWorkers:function destroyWorkers(){if(!this.workerError){var e=this.workers;o.each(e,(function(e,t){var n=t.worker,a=t.objectUrl;n.terminate(),o.URL.revokeObjectURL(a)}))}}};var f=function noop(){},m=function getGIF(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},t=arguments[1];t=o.isFunction(t)?t:f;var n=r.createElement("canvas"),a=void 0,i=e.images,c=!!i.length,l=e.cameraStream,u=e.crop,d=e.filter,h=e.fontColor,g=e.fontFamily,p=e.fontWeight,m=e.keepCameraOn,v=(e.numWorkers,e.progressCallback),j=e.saveRenderingContexts,O=e.savedRenderingContexts,k=e.text,S=e.textAlign,C=e.textBaseline,w=e.videoElement,N=e.videoHeight,A=e.videoWidth,V=e.webcamVideoElement,E=e.waterMark,T=e.waterMarkHeight,B=e.waterMarkWidth,I=e.waterMarkXCoordinate,F=e.waterMarkYCoordinate,H=Number(e.gifWidth),D=Number(e.gifHeight),M=Number(e.interval),_=(Number(e.sampleInterval),c?0:1e3*M),P=[],U=O.length?O.length:e.numFrames,W=U,L=new b(e),R=o.getFontSize(e),z=e.textXCoordinate?e.textXCoordinate:"left"===S?1:"right"===S?H:H/2,G=e.textYCoordinate?e.textYCoordinate:"top"===C?1:"center"===C?D/2:D,$=p+" "+R+" "+g,X=u?Math.floor(u.scaledWidth/2):0,q=u?A-u.scaledWidth:0,J=u?Math.floor(u.scaledHeight/2):0,K=u?N-u.scaledHeight:0,Y=function captureSingleFrame(){var e=W-1;function finishCapture(){var n;j&&P.push(a.getImageData(0,0,H,D)),E&&a.drawImage(E,I,F,B,T),k&&(a.font=$,a.fillStyle=h,a.textAlign=S,a.textBaseline=C,a.fillText(k,z,G)),n=a.getImageData(0,0,H,D),L.addFrameImageData(n),v((U-(W=e))/U),e>0&&o.requestTimeout(captureSingleFrame,_),W||L.getBase64GIF((function(e){t({error:!1,errorCode:"",errorMsg:"",image:e,cameraStream:l,videoElement:w,webcamVideoElement:V,savedRenderingContexts:P,keepCameraOn:m})}))}O.length?(a.putImageData(O[U-W],0,0),finishCapture()):function drawVideo(){try{q>A&&(q=A),K>N&&(K=N),X<0&&(X=0),J<0&&(J=0),a.filter=d,a.drawImage(w,X,J,q,K,0,0,H,D),finishCapture()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e;o.requestTimeout(drawVideo,100)}}()};U=U!==s?U:10,M=M!==s?M:.1,n.width=H,n.height=D,a=n.getContext("2d"),function capture(){O.length||0!==w.currentTime?Y():o.requestTimeout(capture,100)}()},v=function getCropDimensions(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},t=e.videoWidth,n=e.videoHeight,a=e.gifWidth,r=e.gifHeight,i={width:0,height:0,scaledWidth:0,scaledHeight:0};return t>n?(i.width=Math.round(t*(r/n))-a,i.scaledWidth=Math.round(i.width*(n/r))):(i.height=Math.round(n*(a/t))-r,i.scaledHeight=Math.round(i.height*(t/a))),i},j={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function findVideoSizeMethod(e){findVideoSizeMethod.attempts=findVideoSizeMethod.attempts||0;var t=e.cameraStream,n=e.completedCallback,a=e.videoElement;a&&(a.videoWidth>0&&a.videoHeight>0?(a.removeEventListener("loadeddata",j.findVideoSize),n({videoElement:a,cameraStream:t,videoWidth:a.videoWidth,videoHeight:a.videoHeight})):findVideoSizeMethod.attempts<10?(findVideoSizeMethod.attempts+=1,o.requestTimeout((function(){j.findVideoSize(e)}),400)):n({videoElement:a,cameraStream:t,videoWidth:j.defaultVideoDimensions.width,videoHeight:j.defaultVideoDimensions.height}))},onStreamingTimeout:function onStreamingTimeout(e){o.isFunction(e)&&e({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function stream(e){var t=o.isArray(e.existingVideo)?e.existingVideo[0]:e.existingVideo,n=e.cameraStream,a=e.completedCallback,r=e.streamedCallback,i=e.videoElement;if(o.isFunction(r)&&r(),t){if(o.isString(t))i.src=t,i.innerHTML='<source src="'+t+'" type="video/'+o.getExtension(t)+'" />';else if(t instanceof Blob){try{i.src=o.URL.createObjectURL(t)}catch(s){}i.innerHTML='<source src="'+t+'" type="'+t.type+'" />'}}else if(i.mozSrcObject)i.mozSrcObject=n;else if(o.URL)try{i.srcObject=n,i.src=o.URL.createObjectURL(n)}catch(s){i.srcObject=n}i.play(),o.requestTimeout((function checkLoadedData(){checkLoadedData.count=checkLoadedData.count||0,!0===j.loadedData?(j.findVideoSize({videoElement:i,cameraStream:n,completedCallback:a}),j.loadedData=!1):(checkLoadedData.count+=1)>10?j.findVideoSize({videoElement:i,cameraStream:n,completedCallback:a}):checkLoadedData()}),0)},startStreaming:function startStreaming(e){var t=o.isFunction(e.error)?e.error:o.noop,n=o.isFunction(e.streamed)?e.streamed:o.noop,a=o.isFunction(e.completed)?e.completed:o.noop,i=e.crossOrigin,s=e.existingVideo,c=e.lastCameraStream,l=e.options,u=e.webcamVideoElement,d=o.isElement(s)?s:u||r.createElement("video");i&&(d.crossOrigin=l.crossOrigin),d.autoplay=!0,d.loop=!0,d.muted=!0,d.addEventListener("loadeddata",(function(e){j.loadedData=!0,l.offset&&(d.currentTime=l.offset)})),s?j.stream({videoElement:d,existingVideo:s,completedCallback:a}):c?j.stream({videoElement:d,cameraStream:c,streamedCallback:n,completedCallback:a}):o.getUserMedia({video:!0},(function(e){j.stream({videoElement:d,cameraStream:e,streamedCallback:n,completedCallback:a})}),t)},startVideoStreaming:function startVideoStreaming(e){var t=arguments.length>1&&arguments[1]!==s?arguments[1]:{},n=t.timeout!==s?t.timeout:0,a=t.callback,r=t.webcamVideoElement,i=void 0;n>0&&(i=o.requestTimeout((function(){j.onStreamingTimeout(a)}),1e4)),j.startStreaming({error:function error(){a({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function streamed(){clearTimeout(i)},completed:function completed(){var t=arguments.length>0&&arguments[0]!==s?arguments[0]:{},n=t.cameraStream,a=t.videoElement,r=t.videoHeight,i=t.videoWidth;e({cameraStream:n,videoElement:a,videoHeight:r,videoWidth:i})},lastCameraStream:t.lastCameraStream,webcamVideoElement:r,crossOrigin:t.crossOrigin,options:t})},stopVideoStreaming:function stopVideoStreaming(e){var t=e=o.isObject(e)?e:{},n=t.keepCameraOn,a=t.videoElement,r=t.webcamVideoElement,i=e.cameraStream||{},s=i.getTracks&&i.getTracks()||[],c=!!s.length,l=s[0];!n&&c&&o.isFunction(l.stop)&&l.stop(),o.isElement(a)&&!r&&(a.pause(),o.isFunction(o.URL.revokeObjectURL)&&!o.webWorkerError&&a.src&&o.URL.revokeObjectURL(a.src),o.removeElement(a))}};function stopVideoStreaming(e){e=o.isObject(e)?e:{},j.stopVideoStreaming(e)}function createAndGetGIF(e,t){var n=e.options||{},a=n.images,i=n.video,s=Number(n.gifWidth),c=Number(n.gifHeight),l=(Number(n.numFrames),e.cameraStream),u=e.videoElement,d=e.videoWidth,h=e.videoHeight,g=v({videoWidth:d,videoHeight:h,gifHeight:c,gifWidth:s}),p=t;n.crop=g,n.videoElement=u,n.videoWidth=d,n.videoHeight=h,n.cameraStream=l,o.isElement(u)&&(u.width=s+g.width,u.height=c+g.height,n.webcamVideoElement||(o.setCSSAttr(u,{position:"fixed",opacity:"0"}),r.body.appendChild(u)),u.play(),m(n,(function(e){a&&a.length||i&&i.length||stopVideoStreaming(e),p(e)})))}function createGIF(e,t){if(t=o.isFunction(e)?e:t,e=o.isObject(e)?e:{},o.isFunction(t)){var n=o.mergeOptions(h,e)||{},a=e.cameraStream,i=n.images,c=i?i.length:0,u=n.video,d=n.webcamVideoElement;n=o.mergeOptions(n,{gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),c?function existingImages(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},t=e.callback,n=e.images,a=e.options,i=e.imagesLength,c={getUserMedia:!0,"window.URL":!0},u=l.validate(c),d=[],h=0,g=void 0,p=void 0;if(u.error)return t(u);function addLoadedImagesToGif(){o.each(d,(function(e,t){t&&(t.text?p.addFrame(t.img,a,t.text):p.addFrame(t,a))})),getBase64GIF(p,t)}p=new b(a),o.each(n,(function(e,n){var s=n;n.src&&(s=s.src),o.isElement(s)?(a.crossOrigin&&(s.crossOrigin=a.crossOrigin),d[e]=s,(h+=1)===i&&addLoadedImagesToGif()):o.isString(s)&&(g=new Image,a.crossOrigin&&(g.crossOrigin=a.crossOrigin),function(a){n.text&&(a.text=n.text),a.onerror=function(e){var n=void 0;if(0===--i)return(n={}).error="None of the requested images was capable of being retrieved",t(n)},a.onload=function(t){n.text?d[e]={img:a,text:a.text}:d[e]=a,(h+=1)===i&&addLoadedImagesToGif(),o.removeElement(a)},a.src=s}(g),o.setCSSAttr(g,{position:"fixed",opacity:"0"}),r.body.appendChild(g))}))}({images:i,imagesLength:c,callback:t,options:n}):u?function existingVideo(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},t=e.callback,n=e.existingVideo,a=e.options,r={getUserMedia:!0,"window.URL":!0},i=l.validate(r),c=void 0,u=void 0;if(i.error)return t(i);if(o.isElement(n)&&n.src){if(u=n.src,c=o.getExtension(u),!o.isSupported.videoCodecs[c])return t(l.messages.videoCodecs)}else o.isArray(n)&&o.each(n,(function(e,t){if(c=t instanceof Blob?t.type.substr(t.type.lastIndexOf("/")+1,t.length):t.substr(t.lastIndexOf(".")+1,t.length),o.isSupported.videoCodecs[c])return n=t,!1}));j.startStreaming({completed:function completed(e){e.options=a||{},createAndGetGIF(e,t)},existingVideo:n,crossOrigin:a.crossOrigin,options:a})}({existingVideo:u,callback:t,options:n}):function existingWebcam(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{},t=e.callback,n=e.lastCameraStream,a=e.options,r=e.webcamVideoElement;if(!isWebCamGIFSupported())return t(l.validate());a.savedRenderingContexts.length?m(a,(function(e){t(e)})):j.startVideoStreaming((function(){var e=arguments.length>0&&arguments[0]!==s?arguments[0]:{};e.options=a||{},createAndGetGIF(e,t)}),{lastCameraStream:n,callback:t,webcamVideoElement:r,crossOrigin:a.crossOrigin})}({lastCameraStream:a,callback:t,webcamVideoElement:d,options:n})}}var O={utils:c,error:u,defaultOptions:g,createGIF:createGIF,takeSnapShot:function takeSnapShot(e,t){if(t=o.isFunction(e)?e:t,e=o.isObject(e)?e:{},o.isFunction(t)){var n=o.mergeOptions(h,e);createGIF(o.mergeOptions(n,{interval:.1,numFrames:1,gifWidth:Math.floor(n.gifWidth),gifHeight:Math.floor(n.gifHeight)}),t)}},stopVideoStreaming:stopVideoStreaming,isSupported:function isSupported(){return l.isValid()},isWebCamGIFSupported:isWebCamGIFSupported,isExistingVideoGIFSupported:function isExistingVideoGIFSupported(e){var t=!1;if(o.isArray(e)&&e.length){if(o.each(e,(function(e,n){o.isSupported.videoCodecs[n]&&(t=!0)})),!t)return!1}else if(o.isString(e)&&e.length&&!o.isSupported.videoCodecs[e])return!1;return l.isValid({getUserMedia:!0})},isExistingImagesGIFSupported:function isSupported$1(){return l.isValid({getUserMedia:!0})},VERSION:"0.4.5"};(a=function(){return O}.apply(t,[]))===s||(e.exports=a)}("undefined"!==typeof window?window:{},"undefined"!==typeof document?document:{createElement:function createElement(){}},"undefined"!==typeof window?window.navigator:{})},513:function(e,t,n){},514:function(e,t,n){},515:function(e,t,n){},516:function(e,t,n){},528:function(e,t,n){},729:function(e,t,n){},731:function(e,t,n){},732:function(e,t,n){},733:function(e,t,n){},734:function(e,t,n){},735:function(e,t,n){},739:function(e,t,n){},807:function(e,t,n){},808:function(e,t,n){},809:function(e,t,n){},810:function(e,t,n){},811:function(e,t,n){},823:function(e,t,n){},824:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(29),s=n.n(i),o=(n(513),n(18)),c=(n(514),n(515),n(516),n(1));var l,u,d,h,g,p=function PanelHeader(e){var t=e.title;return Object(c.jsx)("div",{className:"panel-header",children:Object(c.jsx)("div",{className:"text-title",children:t})})},b=n(37),f=n(24),m=n.n(f),v=n(68),j=n(30),O=n(33),k=n(202),S=n(47),C=n(48),w=n(456),N=n.n(w),A=n(344),V=n.n(A),E=n(206),T=n.n(E),B=n(457),I=n.n(B),F=n(163),H=n.n(F),D=(n(525),n(526),n(360),n(361),n(527),n(9)),M=(n(528),n(13)),_=n(272),P=n(140),U={howToUse:"\u4f7f\u3044\u65b9",close:"\u9589\u3058\u308b",debugStart:"\u73fe\u5728\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u518d\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c",debugStop:"\u5b9f\u884c\u7d42\u4e86",debugBackAll:"\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6700\u521d\u306e\u30b9\u30c6\u30c3\u30d7\u306b\u623b\u3059",debugStepBack:"\u5b9f\u884c\u4e2d\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u30921\u30b9\u30c6\u30c3\u30d7\u623b\u3059",debugStep:"\u30d7\u30ed\u30b0\u30e9\u30e0\u30921\u30b9\u30c6\u30c3\u30d7\u5b9f\u884c\u3059\u308b",debugStepAll:"\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u6700\u5f8c\u307e\u3067\u5b9f\u884c\u3059\u308b",changeThemedark:"\u30c0\u30fc\u30af\u30c6\u30fc\u30de\u306b\u5207\u308a\u66ff\u3048\u308b",changeThemelight:"\u30e9\u30a4\u30c8\u30c6\u30fc\u30de\u306b\u5207\u308a\u66ff\u3048\u308b",zoomOut:"\u30a8\u30c7\u30a3\u30bf\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u3092\u5c0f\u3055\u304f\u3059\u308b",zoomIn:"\u30a8\u30c7\u30a3\u30bf\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u3092\u5927\u304d\u304f\u3059\u308b",zoomReset:"\u30a8\u30c7\u30a3\u30bf\u306e\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba\u3092\u30ea\u30bb\u30c3\u30c8\u3059\u308b",howToText:["\u4e0b\u306e\u30a8\u30c7\u30a3\u30bf\u306b\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u66f8\u304d\u3001\u4e0a\u306e\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3053\u3068\u3067\u53ef\u8996\u5316\u5b9f\u884c\u304c\u3067\u304d\u307e\u3059\u3002","(\u30de\u30a6\u30b9\u30ab\u30fc\u30bd\u30eb\u3092\u91cd\u306d\u308b\u3068\u3067\u5404\u30dc\u30bf\u30f3\u306e\u8aac\u660e\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002)"],uploadFile:"\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u3053\u3053\u306b\u8868\u793a\u3055\u308c\u307e\u3059\u3002",warning:"\u8b66\u544a!",editInDebug:"\u5b9f\u884c\u4e2d\u306e\u30bd\u30fc\u30b9\u30b3\u30fc\u30c9\u304c\u7de8\u96c6\u3055\u308c\u307e\u3057\u305f\u3002\n\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u6319\u52d5\u306b\u306f\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u304c\u3001\n\u30b3\u30fc\u30c9\u306e\u30cf\u30a4\u30e9\u30a4\u30c8\u304c\u7b49\u304c\u305a\u308c\u308b\u6050\u308c\u304c\u3042\u308a\u307e\u3059\u3002",continueDebug:"\u7d9a\u884c",restart:"\u518d\u5b9f\u884c",rememberCommand:"\u3053\u306e\u9078\u629e\u3092\u8a18\u61b6\u3059\u308b",sourceCodeCcpp:String.raw(l||(l=Object(P.a)(['#include<stdio.h>\nint recursiveToThree(int n){\n  printf("%d th\n", n + 1);\n  if(n < 3){\n    int r = recursiveToThree(n + 1);\n    n = r;\n  }\n  return n;\n}\nint main(){\n  int n = 0;//\u5909\u6570\u5b9a\u7fa9\n\n  n = recursiveToThree(0);//\u518d\u5e30\u95a2\u6570\u547c\u51fa\n\n  int arr[5] = {1, 2, 3};//\u914d\u5217\u5909\u6570\n\n  int* ptr = &arr[2];//\u30dd\u30a4\u30f3\u30bf\u5909\u6570\n  *ptr = 5;\n\n  //\u52d5\u7684\u30e1\u30e2\u30ea\u78ba\u4fdd\n  int* d_arry = malloc(sizeof(int) * 3);\n\n  //\u4e8c\u6b21\u5143\u30dd\u30a4\u30f3\u30bf\u914d\u5217\u306e\u52d5\u7684\u30e1\u30e2\u30ea\u914d\u5217\n  int* pd_arr[2];\n  pd_arr[0] = malloc(sizeof(int) * 2);\n  pd_arr[1] = malloc(sizeof(int) * 2);\n\n  free(pd_arr[0]);//\u30e1\u30e2\u30ea\u306e\u89e3\u653e\n\n  printf("Hello,world!\n");//\u6a19\u6e96\u51fa\u529b\n\n\n  return 0;\n}'],['#include<stdio.h>\nint recursiveToThree(int n){\n  printf("%d th\\n", n + 1);\n  if(n < 3){\n    int r = recursiveToThree(n + 1);\n    n = r;\n  }\n  return n;\n}\nint main(){\n  int n = 0;//\u5909\u6570\u5b9a\u7fa9\n\n  n = recursiveToThree(0);//\u518d\u5e30\u95a2\u6570\u547c\u51fa\n\n  int arr[5] = {1, 2, 3};//\u914d\u5217\u5909\u6570\n\n  int* ptr = &arr[2];//\u30dd\u30a4\u30f3\u30bf\u5909\u6570\n  *ptr = 5;\n\n  //\u52d5\u7684\u30e1\u30e2\u30ea\u78ba\u4fdd\n  int* d_arry = malloc(sizeof(int) * 3);\n\n  //\u4e8c\u6b21\u5143\u30dd\u30a4\u30f3\u30bf\u914d\u5217\u306e\u52d5\u7684\u30e1\u30e2\u30ea\u914d\u5217\n  int* pd_arr[2];\n  pd_arr[0] = malloc(sizeof(int) * 2);\n  pd_arr[1] = malloc(sizeof(int) * 2);\n\n  free(pd_arr[0]);//\u30e1\u30e2\u30ea\u306e\u89e3\u653e\n\n  printf("Hello,world!\\n");//\u6a19\u6e96\u51fa\u529b\n\n\n  return 0;\n}']))),sourceCodeJava:String.raw(u||(u=Object(P.a)(["import java.util.*;\npublic class Main {\n  public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    while (true) {\n      int n = sc.nextInt();\n      int r = sc.nextInt();\n      if (n == 0) {\n        break;\n      }\n      int[] a = new int[n];\n      int[] b = new int[n];\n      for (int i = 0; i < n; i++) {\n        a[i] = n - i;\n      }\n      for (int i = 0; i < r; i++) {\n        int p = sc.nextInt();\n        int c = sc.nextInt();\n        p--;\n        for (int j = 0; j < c; j++) {\n          b[j] = a[p + j];\n        }\n        for (int j = 0; j < p; j++) {\n          b[c + j] = a[j];\n        }\n        for (int j = 0; j < p + c; j++) {\n          a[j] = b[j];\n        }\n      }\n      System.out.println(a[0]);\n    }\n  }\n}"]))),sourceCodePython:String.raw(d||(d=Object(P.a)(["while True:\n  n, r = map(int, input().split())\n  if n == 0:\n    break\n  a = [0] * n\n  b = [0] * n\n  for i in range(n):\n    a[i] = b[i] = n - i\n  for i in range(r):\n    p, c = map(int, input().split())\n    p = p - 1\n    for j in range(c):\n      b[j] = a[p + j]\n    for j in range(p):\n      b[c + j] = a[j]\n    for j in range(p + c):\n      a[j] = b[j]\n  print(a[0])\n"])))},W={howToUse:"How to use",close:"Close",debugStart:"restart step execution",debugStop:"stop execution",debugBackAll:"go backward for all steps",debugStepBack:"step backward",debugStep:"step forward",debugStepAll:"execute all step",changeThemedark:"change to dark theme",changeThemelight:"change to light theme",zoomOut:"change the font size to smaller.",zoomIn:"change the font size to larger.",zoomReset:"reset the font size",howToText:["PVC.js has five GUI components:","(1) editor, (2) execution controller, buttons, (3) I/O window, (4) canvas for visualization, and (5) file upload form.","Users can write source code in the editor. Clicking on the execution control buttons initiates the step execution.","The I/O window shows the content of the standard output written by the program (e.g., printf) and accepts standard input (e.g., scanf).","Canvas shows the program's execution status using tables and figures.","PVC.js adaptively changes its layout to correspond with the size of the browser window."],uploadFile:"The uploaded file will be displayed here.",warning:"Warning!",editInDebug:"The source code being executed has been edited.\nProgram behavior is not affected by changing code. \nHowever, the highlight of the code may be out of place.",continueDebug:"Continue",restart:"Restart",rememberCommand:"Remember this choice",sourceCodeCcpp:String.raw(h||(h=Object(P.a)(['#include <stdio.h>\n\nint gcd(int x, int y) {\n  int t;\n  while((x % y) != 0) {  \n  t = y;\n  y = x % y;\n  x = t;\n }\n return y;\n}\n\nint lcm(int x, int y) {\n  int z = x * y / gcd(x, y);\n  return z;\n}\n\nmain(){\n int x, y;\n printf("Input two numbers:");\n scanf("%d", &x);\n scanf("%d", &y);\n  \n printf("The greatest common divisor is:%d\\n", lcm(x, y));\n \n return 0;\n}\n'],['#include <stdio.h>\n\nint gcd(int x, int y) {\n  int t;\n  while((x % y) != 0) {  \n  t = y;\n  y = x % y;\n  x = t;\n }\n return y;\n}\n\nint lcm(int x, int y) {\n  int z = x * y / gcd(x, y);\n  return z;\n}\n\nmain(){\n int x, y;\n printf("Input two numbers:");\n scanf("%d", &x);\n scanf("%d", &y);\n  \n printf("The greatest common divisor is:%d\\\\n", lcm(x, y));\n \n return 0;\n}\n']))),sourceCodePython:String.raw(g||(g=Object(P.a)(["while True:\n  n, r = map(int, input().split())\n  if n == 0:\n    break\n  a = [0] * n\n  b = [0] * n\n  for i in range(n):\n    a[i] = b[i] = n - i\n  for i in range(r):\n    p, c = map(int, input().split())\n    p = p - 1\n    for j in range(c):\n      b[j] = a[p + j]\n    for j in range(p):\n      b[c + j] = a[j]\n    for j in range(p + c):\n      a[j] = b[j]\n  print(a[0])\n"])))},L=function translate(e,t){return"ja"===e?U[t]:W[t]},R=n(83),z=n(473),G=n(474),$=n(36),X=n(90),q="ADD_ITEM",J="REMOVE_ITEM",K="ADD_VAR",Y="REMOVE_ITEMS",Z={statements:{},variables:{}},Q=["#4d7cfe","#f35c9b","#feb74b","#ca78ff"],ee=["#5E8B7E","#FFC288","#A19882"],te=0,ne=new Set,ae=function getHashColor(e){var t=Q[e%Q.length];return ne.has(t)?getHashColor(e+1):(ne.add(t),t)},re=function getColor(){return ne.size===Q.length?"DISABLE":ae(te++)},ie=function highlight(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object($.a)(Object($.a)({},e),{},{statements:Object($.a)(Object($.a)({},e.statements),t.data)});case J:var n=e.statements,a=t.data,r=n[a],i=Object(z.a)(n,[a].map(G.a));return ne.delete(r),Object($.a)(Object($.a)({},e),{},{statements:i});case Y:var s={};return Object.keys(e.statements).forEach((function(n){+n>=t.data?ne.delete(e.statements[n]):s[n]=e.statements[n]})),Object($.a)(Object($.a)({},e),{},{statements:s});case K:return Object($.a)(Object($.a)({},e),{},{variables:Object($.a)(Object($.a)({},e.variables),Object(X.a)({},t.data.join("-"),ee[Object.keys(e.variables).length%ee.length]))});default:return e}},se=n(469),oe=function(e){Object(S.a)(Editor,e);var t=Object(C.a)(Editor);function Editor(e){var n;Object(j.a)(this,Editor),(n=t.call(this,e)).sentSourcecode=void 0,n.preventedCommand="Stop",n.controlEvent="Stop",n.sourcecode=void 0,n.ace=null,n.editorRef=a.createRef(),n.lineNumOfBreakpoint=[],n.isDebugging=!1,n.checkbox=null,n.noAlert=!1,n.highlightIds=[],n.lineCnt=0,n.sourceCodeKey=function(e){return"sourceCode"+e.replace(/_/g,"").replace(/^[a-z]/g,(function(e){return e.toUpperCase()}))},n.state={fontSize:14,showAlert:!1,theme:"light"};var r=e.lang,i=e.progLang,s=sessionStorage.getItem("sourceCode");return n.sourcecode=s||L(r,n.sourceCodeKey(i)),n.sentSourcecode="",n.hideAlert=n.hideAlert.bind(Object(k.a)(n)),n.setHighlightOnCode=n.setHighlightOnCode.bind(Object(k.a)(n)),n}return Object(O.a)(Editor,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.props.progLang;Object(M.c)("debug",(function(t,n){e.send(t,n),"StepBack"===t||"BackAll"===t||"StepAll"===t?sessionStorage.setItem("exec","step"):sessionStorage.setItem("exec","debug")})),Object(M.c)("jumpTo",(function(n){var a={sourcecode:e.sourcecode,controlEvent:"JumpTo",progLang:t,step:n};_.a.send(a).then((function(t){e.recieve(t)})).catch((function(e){alert("constructor: "+e)})),sessionStorage.setItem("exec","step")})),Object(M.c)("EOF",(function(t){e.recieve(t)})),Object(M.c)("stdin",(function(t){e.recieve(t)})),Object(M.c)("Breakpoint",(function(t){e.recieve(t)})),Object(M.c)("zoom",(function(t){"In"===t?e.setState({fontSize:e.state.fontSize+1}):"Out"===t?e.setState({fontSize:Math.max(e.state.fontSize-1,10)}):"Reset"===t&&e.setState({fontSize:14})})),Object(M.c)("changeTheme",function(){var t=Object(v.a)(m.a.mark((function _callee(t){return m.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:e.setState({theme:t});case 1:case"end":return n.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}());var n=this.editorRef.current.editor;n.on("keydown",(function(e){})),n.on("guttermousedown",(function(t){e.ace.acequire("ace/range").Range;var a=t.domEvent.currentTarget;if(("undefined"===typeof a.className||-1!==a.className.indexOf("ace_gutter"))&&n.isFocused()&&!(t.clientX>25+a.getBoundingClientRect().left)){var r=t.getDocumentPosition().row,i=t.editor.getSession();if(e.lineNumOfBreakpoint.includes(r)){i.clearBreakpoint(r),e.lineNumOfBreakpoint=e.lineNumOfBreakpoint.filter((function(e){return e!==r}));D.h(".ace_gutter-cell").filter((function(e,t){return t===r})).style("background","#f3f7f9").style("border-left","none");e.props.removeHighlightStatement(r)}else{var s=re();if("DISABLE"===s)se.b.warning("\u8bf7\u5148\u53d6\u6d88\u4e00\u4e2a\u65ad\u70b9");else{i.setBreakpoint(r,"ace_breakpoint"),e.lineNumOfBreakpoint.push(r);D.h(".ace_gutter-cell").filter((function(e,t){return t===r})).style("background",s+"33").style("border-left","3px solid "+s);e.props.addHighlightStatement(r,s)}}t.stop()}}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){Object(M.a)("debug"),Object(M.a)("jumpTo"),Object(M.a)("EOF"),Object(M.a)("stdin"),Object(M.a)("Breakpoint"),Object(M.a)("zoom"),Object(M.a)("changeTheme")}},{key:"send",value:function send(e,t){var n=this,a=this.sourcecode,r=this.lineNumOfBreakpoint,i=this.props.progLang,s={sourcecode:a,controlEvent:e,inputText:this.props.inputText+"\t",stdinText:t,lineNumOfBreakpoint:r,progLang:i};this.controlEvent=e,"SyntaxCheck"===e?_.a.send(s).then((function(e){var t=e.errors;n.setSyntaxError(t)})).catch((function(e){alert("SyntaxCheck: "+e)})):this.noAlert||!this.isDebugging||"BackAll"!==e&&"StepBack"!==e&&"Step"!==e&&"StepAll"!==e||a===this.sentSourcecode?(this.setState({showAlert:!1}),_.a.send(s).then((function(e){n.recieve(e)})).catch((function(e){alert("Other controlEvent"+e)}))):(this.preventedCommand=e,this.setState({showAlert:!0}))}},{key:"recieve",value:function recieve(e){try{var t=e.debugState,n=e.execState,a=e.output,r=e.step,i=e.sourcecode,s=e.files,o=e.lastState,c=e.stepCount,l=e.linesShowUp,u=e.allVariables,d=e.variableShowUp,h=e.outputChange;if(this.isDebugging="Stop"!==t,this.sentSourcecode=i,"Executing"===t)return;"First"===t&&(Object(M.b)("init",c,l,u,d),Object(M.b)("initAllVariables",u),Object(M.b)("updateDataStructure",n)),"JumpTo"!==this.controlEvent&&Object(M.b)("changeStep",r),Object(M.b)("changeState",t,r),Object(M.b)("changeOutput",a,h),Object(M.b)("draw",n,o),Object(M.b)("files",s),this.setHighlightOnCode(t,n)}catch(g){console.log(g)}}},{key:"setHighlightOnCode",value:function setHighlightOnCode(e,t){if("Stop"!==e&&"undefined"!==typeof t){var n=t.getNextExpr().codeRange,a=this.ace.acequire("ace/range").Range,r=this.editorRef.current.editor;if(n){var i=new a(n.begin.y-1,n.begin.x,n.end.y-1,n.end.x);r.resize(!0),r.scrollToLine(n.begin.y,!0,!0,(function(){})),"EOF"===e?r.getSelection().setSelectionRange(new a(-1,0,-1,1)):r.getSelection().setSelectionRange(i)}}}},{key:"setSyntaxError",value:function setSyntaxError(e){var t=this.editorRef.current.editor,n=e.map((function(e){return{row:e.line-1,column:e.charPositionInLine-1,text:e.getMsg(),type:"error"}})),a=t.getSession();a.setAnnotations(n);var r,i=Object(b.a)(this.highlightIds);try{for(i.s();!(r=i.n()).done;){var s=r.value;a.removeMarker(s)}}catch(d){i.e(d)}finally{i.f()}this.highlightIds=[];var o,c=Object(b.a)(n);try{for(c.s();!(o=c.n()).done;){var l=o.value,u=a.highlightLines(l.row,l.row,"error_line");this.highlightIds.push(u.id)}}catch(d){c.e(d)}finally{c.f()}}},{key:"render",value:function render(){return Object(c.jsxs)(a.Fragment,{children:[this.state.showAlert?this.renderAlert():null," ",this.renderEditor()]})}},{key:"renderEditor",value:function renderEditor(){var e=this,t=this.props.progLang,n=this.state,a=n.fontSize;n.theme;return Object(c.jsx)(H.a,{ref:this.editorRef,mode:t,theme:"textmate",value:this.sourcecode,name:"sourcecode",fontSize:a,tabSize:2,editorProps:{$blockScrolling:1/0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,showLineNumbers:!0,readOnly:!1},style:{height:"100%",width:"100%"},className:"editorMain",onChange:function onChange(t){sessionStorage.setItem("sourceCode",t),e.sourcecode=t;var n=t.split("\n").length;n<e.lineCnt&&e.props.removeMultipleHighlight(n),e.lineCnt=n,setTimeout((function(){return function delaySyntaxCheck(t){t===e.sourcecode&&Object(M.b)("debug","SyntaxCheck")}(t)}),1e3)},onBeforeLoad:function onBeforeLoad(t){return e.ace=t}})}},{key:"hideAlert",value:function hideAlert(){this.setState({showAlert:!1})}},{key:"renderAlert",value:function renderAlert(){var e=this,t=this.props.lang,n=L(t,"warning"),a=L(t,"editInDebug"),r=L(t,"continueDebug"),i=L(t,"restart"),s=L(t,"rememberCommand");return Object(c.jsxs)(T.a.Dialog,{className:"modal-container","aria-labelledby":"ModalHeader",tabIndex:-1,role:"dialog",children:[Object(c.jsx)(T.a.Header,{children:Object(c.jsx)(T.a.Title,{children:n})}),Object(c.jsx)(N.a,{bsStyle:"danger",children:Object(c.jsx)("p",{children:a})}),Object(c.jsxs)(T.a.Footer,{children:[Object(c.jsx)(V.a,{bsStyle:"danger",onClick:function onClick(){e.isDebugging=!1,null!==e.checkbox&&(e.noAlert=e.checkbox.checked),Object(M.b)("debug",e.preventedCommand)},children:r}),Object(c.jsx)(V.a,{onClick:function onClick(){e.isDebugging=!1,null!==e.checkbox&&(e.noAlert=e.checkbox.checked),Object(M.b)("debug","Start")},children:i}),Object(c.jsx)(I.a,{validationState:"warning",inputRef:function inputRef(t){return e.checkbox=t},children:s})]})]})}}]),Editor}(a.Component),ce={addHighlightStatement:function addHighlightStatement(e,t){return{type:q,data:Object(X.a)({},e,t)}},removeHighlightStatement:function removeHighlightStatement(e){return{type:J,data:e}},removeMultipleHighlight:function removeMultipleHighlight(e){return{type:Y,data:e}}},le=Object(R.b)((function mapStateToProps(e){return{inputText:e.compiler.inputText}}),ce)(oe);var ue=function EditorPanel(){return Object(c.jsxs)("div",{id:"EditorPanel",className:"panel",children:[Object(c.jsx)(p,{title:"Source Editor"}),Object(c.jsx)("div",{className:"editor-area",children:Object(c.jsx)(le,{lang:"en",progLang:"c_cpp"})})]})},de=(n(729),n(730),n(731),"CHANGE_INPUT"),he={inputText:"",outputText:""},ge=function compiler(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object($.a)(Object($.a)({},e),{},{inputText:t.data});default:return e}},pe=function InputEditor(){var e=Object(R.d)((function(e){return e.compiler.inputText})),t=Object(R.c)();return Object(c.jsx)(H.a,{className:"console",mode:"text",value:e,onChange:function onChange(e){t(function changeInput(e){return{type:de,data:e}}(e))},fontSize:14,editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,showLineNumbers:!1,showGutter:!1},style:{height:"100%",width:"100%",marginTop:".25rem"}})},be=function OutputEditor(e){var t=e.outputText;return Object(c.jsx)(H.a,{className:"console",mode:"text",value:t,name:"IN",fontSize:14,editorProps:{$blockScrolling:!0},setOptions:{enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,showLineNumbers:!1,readOnly:!0,showGutter:!1},style:{height:"100%",width:"100%",marginTop:".25rem"}})},fe=function(e){Object(S.a)(Console,e);var t=Object(C.a)(Console);function Console(e){var n;return Object(j.a)(this,Console),(n=t.call(this,e)).state={output:"",isReadOnly:!0,outputChange:!1},n}return Object(O.a)(Console,[{key:"componentDidMount",value:function componentDidMount(){var e=this;Object(M.c)("changeOutput",(function(t,n){e.setState({output:t,outputChange:n})})),Object(M.c)("changeState",function(){var t=Object(v.a)(m.a.mark((function _callee(t){return m.a.wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:"stdin"===t&&e.setState({isReadOnly:!1});case 1:case"end":return n.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function componentWillUnmount(){Object(M.a)("changeOutput"),Object(M.a)("changeState")}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.state.outputChange&&(D.g("#ConsolePanel").transition().duration(1e3).tween("number",(function(){var e=D.b(8,16),t=D.c("#ffffff","#4A8CE3");return function(n){D.g("#ConsolePanel").style("box-shadow","0px 0px ".concat(e(n),"px ").concat(t(n)))}})),D.g("#ConsolePanel").transition().delay(1e3).duration(1e3).tween("number",(function(){var e=D.b(16,8),t=D.c("#4A8CE3","#ffffff");return function(n){D.g("#ConsolePanel").style("box-shadow","0px 0px ".concat(e(n),"px ").concat(t(n)))}})))}},{key:"render",value:function render(){var e=this.state.output;return"IN"===this.props.mode?Object(c.jsx)(pe,{}):Object(c.jsx)(be,{outputText:e})}}]),Console}(a.Component),me=(n(732),n(10)),ve=n.n(me),je=function ConsoleHeader(e){var t=e.mode,n=e.changeMode;return Object(c.jsx)("div",{id:"consoleHeader",className:"panel-header",children:Object(c.jsxs)("div",{className:"text-title",children:[Object(c.jsx)("div",{className:ve()("input-title clickable",{active:"IN"===t}),onClick:function onClick(){n("IN")},children:"Input"}),Object(c.jsx)("div",{className:"vertical-line"}),Object(c.jsx)("div",{className:ve()("output-title clickable",{active:"OUT"===t}),onClick:function onClick(){n("OUT")},children:"Output"})]})})};var xe=function ConsolePanel(){var e=Object(a.useState)("OUT"),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("div",{id:"ConsolePanel",className:"panel",children:[Object(c.jsx)(je,{mode:n,changeMode:function changeMode(e){r(e)}}),Object(c.jsx)("div",{className:"console-area",children:Object(c.jsx)(fe,{lang:"en",mode:n})})]})},ye=n(138),Oe=n(362);var ke=function StatementHighlightContent(e){var t=e.statements,n=e.linesShowUp,a=e.changeStatementVisible;return Object(c.jsxs)("div",{className:"highlight-statements",children:[Object(c.jsx)("p",{className:"header",children:"Highlight Statements"}),Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("div",{children:Object.keys(t).map((function(e,r){return Object(c.jsxs)("div",{className:["item",n[+e]&&!n[+e].visible?"disable":""].join(" "),onClick:function onClick(){return a(+e)},children:[Object(c.jsx)("span",{style:{background:t[e]}}),Object(c.jsxs)("p",{children:["Line number: ",+e+1]})]},r)}))})})]})},Se=(n(733),n(734),n(60)),Ce=n.p+"static/media/timelineLegend.436854ee.svg",we=function(e){Object(S.a)(Slider,e);var t=Object(C.a)(Slider);function Slider(e){var n;return Object(j.a)(this,Slider),(n=t.call(this,e)).rectScale=function(){var e=n.props.maxDepth;return e>20?D.f().range([0,40]).domain([1e-15,e]):D.e().range([0,40]).domain([0,e])},n.dragStart=function(e){e.stopPropagation(),n.state.dragging||n.setState({dragging:!0},(function(){n.setState({dragging:!0})}))},n.dragEnd=function(e){e.stopPropagation(),n.setState({dragging:!1},(function(){n.setState({dragging:!1})}))},n.dragFromSVG=function(e){if(0!==n.props.max&&!n.state.dragging){var t=n.props.scale.invert(e.nativeEvent.offsetX);t=Math.min(t,n.props.max),t=Math.max(t,0),t=Math.round(t),Object(M.b)("changeStep",t),Object(M.b)("jumpTo",t),n.setState({dragging:!0},(function(){n.setState({dragging:!0})}))}},n.mouseMove=function(e){if(0!==n.props.max&&n.state.dragging){var t=n.props.scale.invert(e.nativeEvent.offsetX);t=Math.min(t,n.props.max),t=Math.max(t,0),t=Math.round(t),Object(M.b)("changeStep",t),Object(M.b)("jumpTo",t)}},n.state={dragging:!1},n}return Object(O.a)(Slider,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("mouseup",this.dragEnd,!1)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("mouseup",this.dragEnd,!1)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.step,a=t.max,r=t.scale,i=t.width,s=t.height,o=t.variableHighlights,l=t.statementHighlights,u=i,d=a?(n+1)/a*u:0;return Object(c.jsx)("div",{children:Object(c.jsxs)("svg",{style:{display:"block",zIndex:6,overflow:"visible"},height:s,width:u,onMouseDown:this.dragFromSVG,onMouseMove:this.mouseMove,children:[Object(c.jsx)("rect",{className:"timeline",height:8,x:0,y:s/2-4,width:u,rx:"4",ry:"4"}),Object(c.jsx)("rect",{className:"timeline active",height:8,x:0,y:s/2-4,width:d,rx:"4",ry:"4"}),Object(c.jsx)("g",{children:o.map((function(e){return Object(c.jsx)("g",{children:e.steps.map((function(t,n){return e.visible?Object(c.jsx)("rect",{height:30,x:r(t)-1.5,y:-30,width:3,fill:e.color},n):null}))},e.funcName+"_"+e.name)}))}),Object(c.jsx)("g",{children:l.map((function(t){return Object(c.jsx)("g",{children:t.steps.map((function(n,a){return t.visible?Object(c.jsx)("rect",{height:e.rectScale()(t.depth[a]),x:r(n)-1.5,y:s/2+4,width:3,fill:t.color}):null}))},t.lineNumber)}))}),Object(c.jsx)("g",{children:Object(c.jsx)("image",{x:i-80,y:-60,xlinkHref:Ce})})]})})}}]),Slider}(a.Component),Ne=n.p+"static/media/stepLight.7a789f04.svg",Ae=n.p+"static/media/stepDark.d0fa59ce.svg",Ve=n.p+"static/media/stepAllLight.36a2696a.svg",Ee=n.p+"static/media/stepAllDark.72e2fbb8.svg",Te=n.p+"static/media/restartLight.b4b46ce5.svg",Be=n.p+"static/media/restartDark.7bd6dae9.svg",Ie=n.p+"static/media/stepBackLight.37379eb1.svg",Fe=n.p+"static/media/stepBackDark.b1952f0e.svg",He=n.p+"static/media/backAllLight.92877a66.svg",De=n.p+"static/media/backAllDark.0def78fe.svg",Me=n.p+"static/media/kaishi2.a7d2b541.svg",_e=n.p+"static/media/kaishi1.d94c0165.svg";n(437);var Pe=function ControlButton(e){var t=e.iconHrefLight,n=e.iconHrefDark,a=e.onClick,r=e.disabled;return Object(c.jsx)("div",{className:ve()("control-button",{disabled:r}),onClick:a,children:Object(c.jsx)("svg",{width:40,height:40,children:Object(c.jsx)("image",{xlinkHref:r?t:n,height:"40",width:"40",cursor:"pointer"})})})};var Ue=function ControlButtonGroup(e){var t=e.debugState,n=Object(a.useState)(!1),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),d=u[0],h=u[1],g=Object(a.useState)(!1),p=Object(o.a)(g,2),b=p[0],f=p[1],m=Object(a.useState)(!1),v=Object(o.a)(m,2),j=v[0],O=v[1],k=Object(a.useState)(!0),S=Object(o.a)(k,2),C=S[0],w=S[1],N=Object(a.useState)(!1),A=Object(o.a)(N,2),V=A[0],E=A[1];return Object(a.useEffect)((function(){switch(t){case"Stop":s(!0),h(!1),f(!1),O(!1),w(!1),E(!1);break;case"First":s(!0),h(!0),f(!1),O(!1),w(!0),E(!0);break;case"stdin":f(!1),O(!1),w(!0),E(!0);break;case"Debugging":f(!0),O(!0),w(!0),E(!0);break;case"Executing":f(!1),O(!1),w(!1),E(!1);break;case"EOF":s(!0),h(!0),f(!0),O(!0),w(!1),E(!1)}return function(){}}),[t]),Object(c.jsxs)("div",{className:"control-btn-group",children:[Object(c.jsx)(Pe,{iconHrefLight:He,iconHrefDark:De,onClick:function onClick(){sessionStorage.clear(),Object(M.b)("debug","BackAll")},disabled:!b}),Object(c.jsx)(Pe,{iconHrefLight:Ie,iconHrefDark:Fe,onClick:function onClick(){return Object(M.b)("debug","StepBack")},disabled:!j}),Object(c.jsx)(Pe,{iconHrefLight:d?Te:Me,iconHrefDark:d?Be:_e,onClick:function onClick(){Object(M.b)("debug","Start");var e=sessionStorage.getItem("arrowList"),t=null===e?{}:JSON.parse(e);t||(t={}),Object.keys(t).forEach((function(e){D.g("#svg").select("#block_".concat(e)).attr("transform","matrix(1,0,0,1,0,0)")}));var n=sessionStorage.getItem("sourceCode");sessionStorage.clear(),n&&sessionStorage.setItem("sourceCode",n),sessionStorage.setItem("exec","step"),Object(M.b)("updateDataStructure",null)},disabled:!i}),Object(c.jsx)(Pe,{iconHrefLight:Ne,iconHrefDark:Ae,onClick:function onClick(){Object(M.b)("debug","Step")},disabled:!C}),Object(c.jsx)(Pe,{iconHrefLight:Ve,iconHrefDark:Ee,onClick:function onClick(){return Object(M.b)("debug",d?"StepAll":"Exec")},disabled:!V})]})};n(735);var We=function TimelinePanel(e){var t=e.variableShowUps,n=e.updVariableShowUps,s=Object(a.useState)(0),l=Object(o.a)(s,2),u=l[0],d=l[1],h=Object(a.useState)({}),g=Object(o.a)(h,2),b=(g[0],g[1],Object(a.useState)(0)),f=Object(o.a)(b,2),m=f[0],v=f[1],j=Object(a.useState)([]),O=Object(o.a)(j,2),k=O[0],S=O[1],C=Object(a.useState)([]),w=Object(o.a)(C,2),N=w[0],A=w[1],V=Object(a.useState)([]),E=Object(o.a)(V,2),T=(E[0],E[1]),B=Object(a.useState)([]),I=Object(o.a)(B,2),F=I[0],H=I[1],_=Object(a.useState)(""),P=Object(o.a)(_,2),U=(P[0],P[1]),W=Object(a.useState)("Stop"),L=Object(o.a)(W,2),z=L[0],G=L[1],X=r.a.createRef(),q=Object(a.useState)(0),J=Object(o.a)(q,2),K=J[0],Y=J[1],Z=Object(R.d)((function(e){return e.highlight.statements})),Q=Object(R.d)((function(e){return e.highlight.variables}));Object(a.useEffect)((function(){return Object(M.c)("changeStep",(function(e){v(e)})),Object(M.c)("statementHighlight",(function(e){var t=F[e],n=D.d(Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random())).formatRgb();alert(F),t.color=n,N.push(t),A(N),D.h(".highlight".concat(e)).style("background-color",n)})),Object(M.c)("cancelStatementHighlight",(function(e){for(var t=0;t<N.length;t++)if(N[t].lineNumber===e+1){N.splice(t,1);break}D.h(".highlight".concat(e)).style("background-color","#fff"),A(N)})),Object(M.c)("init",(function(e,t,a,r){var s=[];Object.keys(a).forEach((function(e){var t={value:e,label:e,children:[]};Object.keys(a[e]).forEach((function(e){t.children.push({value:e,label:e})})),s.push(t)})),Object(i.unstable_batchedUpdates)((function(){d(e),S([]),A([]),H(t),n(r),T(s)})),n(r)})),Object(M.c)("changeState",(function(e,t){var n="";n="Debugging"===e?"Step ".concat(t):e,Object(i.unstable_batchedUpdates)((function(){U(n),G(e)}))})),function(){Object(M.a)("changeStep"),Object(M.a)("statementHighlight"),Object(M.a)("cancelStatementHighlight"),Object(M.a)("init"),Object(M.a)("changeState")}}));var ee=Object(a.useCallback)((function(e){if(F[e]){var t=Object(ye.a)(F);t[e]=Object($.a)(Object($.a)({},F[e]),{},{visible:!F[e].visible}),H(t)}}),[F]);Object(a.useEffect)((function(){Y(X.current.clientWidth-60)}),[X]),Object(a.useEffect)((function(){F.length&&A(Object.keys(Z).map((function(e){return Object($.a)(Object($.a)({},F[e]),{},{color:Z[e]})})))}),[F,Z]);var te=Object(a.useMemo)((function(){var e=0;return Object.values(F).forEach((function(t){var n=t.depth;e=Math.max.apply(Math,[e].concat(Object(ye.a)(n)))})),e}),[F]);return Object(a.useEffect)((function(){if(t.length){var e=t.filter((function(e){var t=e.funcName,n=e.name;return Q[t+"-"+n]})).map((function(e){return Object($.a)(Object($.a)({},e),{},{color:Q[e.funcName+"-"+e.name]})}));S(e)}}),[t,Q]),Object(c.jsxs)("div",{id:"TimelinePanel",className:"panel",children:[Object(c.jsx)(p,{title:"Timeline"}),Object(c.jsxs)("div",{className:"main-content",children:[Object(c.jsxs)("div",{className:"col-2",ref:X,children:[Object(c.jsx)("div",{className:"row-1",children:Object(c.jsx)(we,{step:m,max:u,scale:Object(Oe.a)().domain([0,u]).range([0,K]),width:K,height:8,maxDepth:te,variableHighlights:k,statementHighlights:N})}),Object(c.jsx)("div",{className:"row-2",children:Object(c.jsx)(Ue,{debugState:z})})]}),Object(c.jsx)("div",{className:"col-1",children:Object(c.jsx)(ke,{statements:Z,linesShowUp:F,changeStatementVisible:ee})})]})]})},Le=n(345);function arrayToString(e,t){var n=function valueToArray(e,t){var n=[];if(Array.isArray(e))e.forEach((function(e){n.push(arrayToString(e.value,e.type))}));else{if("char"!==t&&"unsignedchar"!==t)return e||0;switch(e){case void 0:case 0:return"";default:return"".concat(String.fromCharCode(e))}}if(t.startsWith("char")||t.startsWith("unsignedchar"))return[n.join("")];return n}(e,t);return Array.isArray(e)?t.startsWith("char")||t.startsWith("unsignedchar")?'"'+n.toString()+'"':"["+n.toString()+"]":n.toString()}var Re=function(){function BlockDrawer(e){Object(j.a)(this,BlockDrawer),this.blockStacks=[],this.blockArrows=[null,null],this.execState=null,"undefined"!==typeof e&&(this.execState=e,this.reset(),this.update(),this.calcPos())}return Object(O.a)(BlockDrawer,[{key:"reset",value:function reset(){this.blockStacks=[]}},{key:"update",value:function update(){var e=this;null!==this.execState&&this.execState.getStacks().forEach((function(t,n){if("GLOBAL"!==t.name){var a=new ze(t);a.setColor("#979797"),e.blockStacks.push(a),a.setIndex(n)}}))}},{key:"calcPos",value:function calcPos(){var e=this,t=5;this.blockStacks.slice(-2).forEach((function(n,a){e.blockArrows[a]=n.getName();var r=e.calcStackPos(300,t,n);t+=r+40})),this.blockStacks.slice(0,-2).forEach((function(t){e.calcStackPos(0,0,t)}))}},{key:"calcStackPos",value:function calcStackPos(e,t,n){var a=this;n.setPos(e,t);var r=e+20,i=t+20,s=1,o=0;return n.getBlockTable().forEach((function(e){o+1>2&&(s++,o=0);var t=r+(20+Xe.WIDTH)*o+20,n=i+(40+Xe.HEIGHT)*s-Xe.HEIGHT;a.calcVariablePos(t,n,e),o+=1})),n.setHeight((Xe.HEIGHT+40)*s+80),n.setWidth(2*(Xe.WIDTH+20)+60),(Xe.HEIGHT+40)*s+80}},{key:"calcVariablePos",value:function calcVariablePos(e,t,n){Xe.WIDTH;n[0].setPos(e,t)}},{key:"getBlockStacks",value:function getBlockStacks(){return this.blockStacks}},{key:"getBlockArrows",value:function getBlockArrows(){return this.blockArrows}},{key:"addBlockStack",value:function addBlockStack(e){this.blockStacks.push(e)}},{key:"addArrow",value:function addArrow(e){this.blockArrows.push(e)}}]),BlockDrawer}(),ze=function(){function BlockStack(e){Object(j.a)(this,BlockStack),this.key=void 0,this.pos=new Le.Vector(0,0),this.blockTable=void 0,this.stack=void 0,this.width=0,this.height=0,this.color=void 0,this.index=0,this.stack=e,this.blockTable=this.makeBlockTable(),this.key=e.name}return Object(O.a)(BlockStack,[{key:"setPos",value:function setPos(e,t){this.pos.setAxes(e,t)}},{key:"setWidth",value:function setWidth(e){this.width=e}},{key:"setHeight",value:function setHeight(e){this.height=e}},{key:"setColor",value:function setColor(e){this.color=e}},{key:"setIndex",value:function setIndex(e){this.index=e}},{key:"makeBlockTable",value:function makeBlockTable(){var e=[],t=this.stack.getVariables(),n=this.stack.name;return t.forEach((function(t){var a=t.getValue(),r=(Array.isArray(a)?new $e(t,n):new Ge(t,n)).getBlockCellContainer();e.push(r)})),e}},{key:"getBlockTable",value:function getBlockTable(){return this.blockTable}},{key:"x",value:function x(){return this.pos.getX()}},{key:"y",value:function y(){return this.pos.getY()}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"getHeight",value:function getHeight(){return this.height}},{key:"getName",value:function getName(){return this.key.replace(/[&|\\*:^%$@()[\].]/g,"_")}},{key:"getColor",value:function getColor(){return this.color}},{key:"getIndex",value:function getIndex(){return this.index}}]),BlockStack}(),Ge=function(){function BlockVariable(e,t){Object(j.a)(this,BlockVariable),this.key=void 0,this.blockCellContainer=[],this.variable=void 0,this.stackName=void 0,this.variable=e,this.stackName=t,this.key="".concat(t,"-").concat(e.name),this.key=this.key.replace(/[&|\\*:^%$@()[\].]/g,"_"),this.init()}return Object(O.a)(BlockVariable,[{key:"init",value:function init(){var e=this.variable,t=e.type,n=e.name,a=e.address,r=this.pushCell(n,this.variable.getValue());r.setType(t),r.setAddress(a)}},{key:"pushCell",value:function pushCell(e,t){var n=new Xe(e,this.key,t);return this.blockCellContainer.push(n),n}},{key:"getBlockCellContainer",value:function getBlockCellContainer(){return this.blockCellContainer}}]),BlockVariable}(),$e=function(e){Object(S.a)(BlockArrayVariable,e);var t=Object(C.a)(BlockArrayVariable);function BlockArrayVariable(e,n){return Object(j.a)(this,BlockArrayVariable),t.call(this,e,n)}return Object(O.a)(BlockArrayVariable,[{key:"getBlockCellContainer",value:function getBlockCellContainer(){var e,t=[],n=this.variable.getValue(),a=Object(b.a)(n);try{for(a.s();!(e=a.n()).done;){var r=e.value,i=(Array.isArray(r.getValue())?new BlockArrayVariable(r,this.stackName):new Ge(r,this.stackName)).getBlockCellContainer();t.push.apply(t,Object(ye.a)(i))}}catch(s){a.e(s)}finally{a.f()}return this.blockCellContainer.concat(t)}}]),BlockArrayVariable}(Ge),Xe=function(){function BlockCell(e,t,n){Object(j.a)(this,BlockCell),this.address=void 0,this.key=void 0,this.type=void 0,this.name=void 0,this.pos=new Le.Vector(-1,-1),this.value=void 0,this.depth=0,this.width=BlockCell.WIDTH,this.height=BlockCell.HEIGHT,this.name=e,this.key=t,this.key=this.key.replace(/[&|\\*:^%$@()[\].]/g,"_"),this.value=n,this.depth=this.name.split("[").length-1}return Object(O.a)(BlockCell,[{key:"setAddress",value:function setAddress(e){this.address=e}},{key:"setType",value:function setType(e){this.type=e}},{key:"setPos",value:function setPos(e,t){this.pos.setAxes(e,t)}},{key:"setWidth",value:function setWidth(e){this.width=e}},{key:"setHeight",value:function setHeight(e){this.height=e}},{key:"getAddress",value:function getAddress(){return this.address}},{key:"getType",value:function getType(){return this.type}},{key:"getName",value:function getName(){return this.name}},{key:"x",value:function x(){return this.pos.getX()}},{key:"y",value:function y(){return this.pos.getY()}},{key:"getValue",value:function getValue(){return this.type.split("[").length>1?arrayToString(this.value,this.type.split("[")[0]):this.value.toString()}},{key:"getDepth",value:function getDepth(){return this.depth}},{key:"getWidth",value:function getWidth(){return this.width}},{key:"getHeight",value:function getHeight(){return this.height}}]),BlockCell}();Xe.FONT_SIZE=20,Xe.HEIGHT=50,Xe.WIDTH=150;var qe=function(e){Object(S.a)(Block,e);var t=Object(C.a)(Block);function Block(){return Object(j.a)(this,Block),t.apply(this,arguments)}return Object(O.a)(Block,[{key:"componentDidUpdate",value:function componentDidUpdate(){D.h(".value").select("title").remove(),function wrapWord(e,t,n){e.each((function(){var e,a=D.g(this),r=a.text().split("").reverse(),i=a.text(),s=[],o=a.attr("x"),c=a.attr("y"),l=a.text(null).append("tspan").attr("class",n).attr("x",o).attr("y",c);for(a.append("title").text(i);e=r.pop();)if(s.push(e),l.text(s.join("")),l.node().getComputedTextLength()>t){s.pop(),s.splice(s.length-2,3,".",".","."),l.text(s.join(""));break}}))}(D.h(".value"),Xe.WIDTH-10,"value")}},{key:"renderBlockBackground",value:function renderBlockBackground(){var e=this.props.blockStack;return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)("rect",{x:e.x(),y:e.y(),width:e.getWidth(),height:e.getHeight(),rx:10,ry:10,fill:"white",style:{stroke:"#979797",strokeWidth:"1.5px"}}),Object(c.jsx)("g",{className:"block-left"}),Object(c.jsx)("text",{x:e.x()+15,y:e.y()+Xe.FONT_SIZE+7,fontSize:Xe.FONT_SIZE+2,fill:e.getColor(),className:"function-name",children:e.key.split(".")[0]}),Object(c.jsx)("text",{x:e.x()+e.getWidth()-15,y:e.y()+20,fontSize:"15",textAnchor:"end",className:"function-name",fill:"rgb(139, 139, 139)",children:"(".concat(e.getIndex(),")")})]})}},{key:"renderBlockContent",value:function renderBlockContent(){var e=this.props.blockStack,t=[];return e.getBlockTable().forEach((function(n){for(var a=0;a<1&&!(a>=3);a++){var r=n[a];t.push(Object(c.jsxs)("g",{className:"block-".concat(e.key.split(".")[0],"-").concat(r.getName()),id:"block-".concat(e.key.replace(".","_"),"-").concat(r.getName()),transform:"matrix(1,0,0,1,0,0)",children:[Object(c.jsx)("text",{x:r.x()+5,y:r.y()-5,fontSize:Xe.FONT_SIZE,fontWeight:"blod",fill:e.getColor(),className:"variable-name",children:r.getName()}),Object(c.jsx)("rect",{x:r.x(),y:r.y(),width:r.getWidth(),height:r.getHeight(),fill:"white",style:{stroke:e.getColor(),strokeWidth:"1.5px"}}),Object(c.jsx)("text",{className:"value variable-value",x:r.x()+10,y:r.y()+Xe.FONT_SIZE+10,fontSize:Xe.FONT_SIZE,fill:e.getColor(),children:r.getValue()})]},"block-".concat(e.key.replace(".","_"),"-").concat(r.getName())))}})),t}},{key:"render",value:function render(){var e=this.renderBlockBackground(),t=this.renderBlockContent();return Object(c.jsxs)("g",{className:"block",transform:"matrix(1,0,0,1,0,0)",id:"block_".concat(this.props.blockStack.getName()),children:[e,t]})}}]),Block}(a.Component);n(438);function renderArrow(e,t){D.g("#svg").select("#arrow_".concat(t)).remove();var n=D.g("#svg").select("#stack_".concat(e)).select("rect"),a=D.g("#svg").select("#block_".concat(t));if(!a.empty()){var r=Number(n.attr("x"))+Number(n.attr("width"))-.072*Number(n.attr("height")),i=Number(n.attr("y"))+.2*Number(n.attr("height")),s=a.attr("transform").replace(")","").split(",");a=a.select("rect");var o=Number(a.attr("x"))+Number(s[4]),c=D.g(a).node().node().getBBox().height,l=Number(a.attr("y"))+Number(s[5])+c/2,u=r-o;u=Math.max(u,-u),D.g("#svg").select("#path").append("path").attr("style","stroke:#858585; fill:none; stroke-width:2;").attr("id","arrow_".concat(t)).attr("d","M"+r+","+i+" C"+(o-u/3)+","+i+" "+(r+u/3)+","+l+" "+o+","+l).attr("marker-end","url(#end)").attr("marker-start","url(#start)")}}var Je=function(e){Object(S.a)(CallStack,e);var t=Object(C.a)(CallStack);function CallStack(e){var n;Object(j.a)(this,CallStack),(n=t.call(this,e)).state={blockStacks:e.blockDrawer.getBlockStacks()};var a=sessionStorage.getItem("arrowList"),r=JSON.parse(a);return e.blockDrawer.getBlockArrows().forEach((function(e){r||(r={}),e&&(r[e]="")})),sessionStorage.setItem("arrowList",JSON.stringify(r)),n}return Object(O.a)(CallStack,[{key:"componentWillUpdate",value:function componentWillUpdate(e){D.g("#stack__cloned").remove(),D.g("#block__cloned").remove(),D.g("#arrow__cloned").remove();var t=this.props.blockDrawer.getBlockStacks(),n=e.blockDrawer.getBlockStacks();if("step"!==sessionStorage.getItem("exec")){var a=t.length,r=n.length;if(a>r)for(var i=function _loop(e){D.g("#svg").select("#clone").appendClone(D.g("#stack_"+t[e].key.replace(".","_"))).attr("id","stack__cloned");var n=D.g("#svg").select("#clone").appendClone(D.g("#block_"+t[e].key.replace(".","_")));n.select("rect").style("stroke","#979797"),n.select("text").style("fill","#979797");var a=0;e>1&&(a=t[e].getHeight()+40),n.selectAll("rect").attr("y",(function(){return Number(D.g(this).attr("y"))+a})),n.selectAll("text").attr("y",(function(){return Number(D.g(this).attr("y"))+a})),n.selectAll("tspan").attr("y",(function(){return Number(D.g(this).attr("y"))+a}));var r=D.g("#block_"+t[e].key.replace(".","_"));n.attr("id","block__cloned");var i=[];r.selectAll("g").attr("copy",(function(){return i.push(D.g(this).attr("id"))})),n.selectAll("g").attr("id",(function(e,t){return"cloned-"+i[t]}))},s=r;s<a;s++)i(s);else if(r>a&&a>=2){D.g("#svg").select("#clone").appendClone(D.g("#block_"+t[a-2].key.replace(".","_"))).attr("id","block__cloned")}}var o=sessionStorage.getItem("arrowList"),c=JSON.parse(o);c||(c={}),e.blockDrawer.getBlockArrows().forEach((function(e){Object(Se.inArray)(e,Object.keys(c))>=0&&(delete c[e],D.g("#svg").select("#block_".concat(e)).attr("transform","matrix(1,0,0,1,0,0)"))})),sessionStorage.setItem("arrowList",JSON.stringify(c))}},{key:"componentDidUpdate",value:function componentDidUpdate(){var e=sessionStorage.getItem("arrowList"),t=JSON.parse(e);t||(t={});var n=5;this.props.blockDrawer.getBlockStacks().forEach((function(e){Object(Se.inArray)(e.getName(),Object.keys(t))>=0&&(D.g("#svg").select("#block_"+e.getName()).attr("transform","matrix(1,0,0,1,".concat(750,",").concat(n,")")),n+=e.getHeight()+40)})),D.g("#svg").selectAll(".block-left").selectAll("path").remove(),D.g("#svg").selectAll(".block-left").append("path").attr("d",(function(){var e=D.g(this.parentNode.parentNode).node().getBBox(),t=e.x,n=e.y,a=e.height;return"M "+t+" "+(n+10)+" L "+t+" "+(n+a-10)+" A 10 10 0 0 0 "+(t+10)+" "+(n+a)+" L "+(t+10)+" "+n+" A 10 10 0 0 0 "+t+" "+(n+10)})),D.g("#svg").select("#path").selectAll("path").remove(),this.props.blockDrawer.getBlockArrows().forEach((function(e){D.g("#svg").select("#block_".concat(e)).empty()||renderArrow(e,e)}));var a=D.g("#svg").selectAll(".block");a.select("rect").style("stroke","#979797"),a.select("text").style("fill","#979797")}},{key:"renderBlocks",value:function renderBlocks(){var e=this.props.blockDrawer,t=e.getBlockStacks(),n=e.getBlockArrows(),a=sessionStorage.getItem("arrowList"),r=JSON.parse(a);r||(r={});var i=[];return t.forEach((function(e){(Object(Se.inArray)(e.getName(),n)>=0||Object(Se.inArray)(e.getName(),Object.keys(r))>=0)&&i.push(Object(c.jsx)("g",{children:Object(c.jsx)(qe,{blockStack:e})},e.key))})),i}},{key:"drawOrRemoveBlock",value:function drawOrRemoveBlock(e){var t=sessionStorage.getItem("arrowList"),n=JSON.parse(t);n||(n={}),Object(Se.inArray)(e,Object.keys(n))<0?n[e]="":delete n[e],sessionStorage.setItem("arrowList",JSON.stringify(n)),this.setState({})}},{key:"renderStackView",value:function renderStackView(){var e=sessionStorage.getItem("arrowList"),t=JSON.parse(e);t||(t={});var n=this.props.blockDrawer,a=n.getBlockStacks(),r=(n.getBlockArrows(),[]),i=50;return a.forEach((function(e,t){r.push(Object(c.jsxs)("g",{id:"stack_".concat(e.getName()),children:[Object(c.jsx)("rect",{x:50,y:i,width:202,height:108,transform:"matrix(1,0,-0.36,1,0,0)",fill:"white",stroke:"#979797",strokeWidth:2,"transform-origin":"50 "+i}),Object(c.jsx)("text",{x:60,y:i+20,fontSize:"15",className:"function-name",fill:"rgb(139, 139, 139)",children:e.getName().split("_")[0]}),Object(c.jsx)("text",{x:237,y:i+20,fontSize:"15",textAnchor:"end",className:"function-name",fill:"rgb(139, 139, 139)",children:"(".concat(e.getIndex(),")")})]},"stack_".concat(e.getName()))),i+=60})),r}},{key:"render",value:function render(){var e=this.renderStackView(),t=this.renderBlocks();return this.props.blockDrawer.getBlockArrows().forEach((function(e){e&&sessionStorage.setItem("activeStack",e)})),Object(c.jsxs)(a.Fragment,{children:[e,t]})}}]),CallStack}(a.Component),Ke=function(e){Object(S.a)(Animation,e);var t=Object(C.a)(Animation);function Animation(){return Object(j.a)(this,Animation),t.apply(this,arguments)}return Object(O.a)(Animation,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(e){return"step"!==sessionStorage.getItem("exec")}},{key:"componentDidUpdate",value:function componentDidUpdate(){switch(this.props.animationDrawer.getState()){case"programInit":this.programInit();break;case"uniReturn":this.uniReturn();break;case"methodCall":this.methodCall();break;default:this.variablesInit()}}},{key:"programInit",value:function programInit(){D.g("#block_main").style("fill-opacity",1).style("stroke-opacity",1).style("display","inline"),this.showUp("block_main",0)}},{key:"variablesInit",value:function variablesInit(){var e=this.props.animationDrawer,t=e.getVariableKeys();e.getVariableTypes(),e.getVariableValues();if(void 0!==t)for(var n=0;n<t.length;n++){var a=t[n];this.showUp("block-"+a,0)}}},{key:"methodCall",value:function methodCall(){var e=this,t=this.props.animationDrawer,n=t.getStackName(),a=t.getPostArgs(),r=t.getVariableKeys(),i=t.getStacks(),s=0,o=i[i.length-2].name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_"),c=i[i.length-1].name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_"),l=D.g("#block_"+o),u=D.g("#block_"+c);i.length>3&&(s=D.g("#block__cloned").node().getBBox().height+40),this.showUp("block_"+n,s);var d=D.g("#stack_"+n);if(d.attr("tansform","matrix(1,0,0,1,0,300)"),d.transition().duration(1e3*this.props.speed).tween("number",(function(){var e=D.b(300,0);return function(t){d.attr("transform","matrix(1,0,0,1,0,".concat(e(t),")"))}})),i.length>3){var h=i[i.length-3].name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_");l.attr("transform","matrix(1,0,0,1,0,"+s+")"),u.attr("transform","matrix(1,0,0,1,0,"+s+")"),renderArrow(h,"_cloned")}renderArrow(o,o),renderArrow(n,n);var g=D.g("#arrow_"+n);if(g.style("opacity",0),g.transition().duration(500*this.props.speed).delay(500*this.props.speed).tween("number",(function(){var e=D.b(0,1);return function(t){g.style("opacity",e(t))}})),a.forEach((function(t,n){if(void 0!==t){var i=D.g("#svg").select("#clone").appendClone(D.g("#block-"+r[n]));i.select("text").remove();var s=D.g("#block-"+a[n]),o=D.g("#block_"+a[n].split("-")[0]).attr("transform").replace("matrix(","").replace(")","").split(",");i.select("rect").attr("x",Number(o[4])+Number(s.select("rect").attr("x"))),i.select("rect").attr("y",Number(o[5])+Number(s.select("rect").attr("y"))),i.selectAll(".value").attr("x",Number(o[4])+Number(s.select(".value").attr("x"))),i.selectAll(".value").attr("y",Number(o[5])+Number(s.select(".value").attr("y")));var c=D.g("#block-"+r[n]),l=D.g("#block_"+r[n].split("-")[0]).attr("transform").replace("matrix(","").replace(")","").split(",");c.select("rect").style("display","none").transition().delay(1e3*e.props.speed).style("display","inline"),c.selectAll(".value").style("display","none").transition().delay(1e3*e.props.speed).style("display","inline"),i.select("rect").transition().duration(1e3*e.props.speed).attr("x",Number(c.select("rect").attr("x"))+Number(l[4])).attr("y",Number(c.select("rect").attr("y"))+Number(l[5])),i.selectAll(".value").transition().duration(1e3*e.props.speed).attr("x",Number(c.selectAll(".value").attr("x"))+Number(l[4])).attr("y",Number(c.selectAll(".value").attr("y"))+Number(l[5])),i.transition().delay(1e3*e.props.speed).remove()}})),i.length>3){var p=i[i.length-3].name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_");D.g("#block__cloned").transition().delay(1e3*this.props.speed).duration(1e3*this.props.speed).tween("number",(function(){var e=D.b(0,-s);return function(t){D.g("#block__cloned").attr("transform","matrix(1,0,0,1,0,".concat(e(t),")")),renderArrow(p,"_cloned"),1===t&&D.g("#svg").select("#arrow__cloned").remove()}})),l.transition().delay(1e3*this.props.speed).duration(1e3*this.props.speed).tween("number",(function(){var e=D.b(s,0);return function(t){l.attr("transform","matrix(1,0,0,1,0,".concat(e(t),")")),renderArrow(o,o)}})),u.transition().delay(1e3*this.props.speed).duration(1e3*this.props.speed).tween("number",(function(){var e=D.b(s,0);return function(t){u.attr("transform","matrix(1,0,0,1,0,".concat(e(t),")")),renderArrow(c,c)}})),D.g("#block__cloned").transition().delay(2e3*this.props.speed).remove()}}},{key:"showUp",value:function showUp(e,t){var n=D.g("#svg").select("#"+e),a=D.g("#svg"),r=n.select("rect"),i=n.attr("transform").replace("matrix(","").replace(")","").split(","),s=(Number(i[4])+Number(r.attr("x")))/Number(a.attr("width")),o=(Number(i[5])+Number(r.attr("y")))/Number(a.attr("height"));n.attr("transform-origin","".concat(100*s,"% ").concat(100*o,"%")),n.transition().duration(1e3*this.props.speed).tween("number",(function(){var e=D.b(0,1);return function(a){n.attr("transform","matrix(".concat(e(a),",0,0,").concat(e(a),",").concat(i[4],",").concat(i[5]+t,")"))}}))}},{key:"uniReturn",value:function uniReturn(){console.log("ANIMATION-RETURN");var e=this.props.animationDrawer,t=e.getPostArgs();if(t.length<1)return D.g("#stack__cloned").remove(),D.g("#block__cloned").remove(),void D.g("#arrow__cloned").remove();var n=e.getVariableKeys().length;if(0===n)return D.g("#stack__cloned").remove(),D.g("#block__cloned").remove(),void D.g("#arrow__cloned").remove();var a=e.getVariableKeys()[n-1];renderArrow("_cloned","_cloned");var r=D.g("#block-"+a);r.select("rect").style("display","none").transition().delay(1e3*this.props.speed).style("display","inline"),r.selectAll(".value").style("display","none").transition().delay(1e3*this.props.speed).style("display","inline");var i=D.g("#svg").select("#clone").appendClone(D.g("#cloned-block-"+t[0]));i.select("rect").style("fill-opacity",1).style("stroke-opacity",1),i.selectAll(".value").style("fill-opacity",1).style("stroke-opacity",1),i.select("text").remove(),i.select("rect").transition().duration(1e3*this.props.speed).attr("x",r.select("rect").attr("x")).attr("y",r.select("rect").attr("y")),i.selectAll(".value").transition().duration(1e3*this.props.speed).attr("x",r.selectAll(".value").attr("x")).attr("y",r.selectAll(".value").attr("y")),D.g("#stack__cloned").transition().delay(1e3*this.props.speed).remove(),D.g("#block__cloned").transition().delay(1e3*this.props.speed).remove(),i.transition().delay(1e3*this.props.speed).remove(),D.g("#arrow__cloned").transition().delay(1e3*this.props.speed).remove()}},{key:"compareProps",value:function compareProps(e,t){var n=e.animationDrawer.getStacks(),a=t.animationDrawer.getStacks(),r=[],i=[],s=n.length,o=a.length;if(s>o)for(var c=o;c<s;c++){var l=n[c].name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_");r.push(l)}else if(0!==s&&s<o)for(var u=s;u<o;u++){var d=a[u].name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_");i.push(d)}return{destroyList:r,addList:i}}},{key:"render",value:function render(){return Object(c.jsx)(a.Fragment,{})}}]),Animation}(a.Component),Ye=(n(739),n(828)),Ze=n(827),Qe=n(470),et=n(831),tt=n(832),nt=n(458),at=n.n(nt),rt=n.p+"static/media/kaishi.7b3d9938.svg",it=n.p+"static/media/zanting.6824d542.svg",st=n.p+"static/media/xiazai.bb4b9ef1.svg",ot=n.p+"static/media/jiazai.011f5474.svg",ct=Ye.a.Option;var lt=function CallStackHeaderButton(e){var t=e.handleChange,n=e.options,r=e.addDataStructure,i=Object(a.useState)(setInterval((function(){}),1e3)),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(!1),h=Object(o.a)(d,2),g=h[0],p=h[1],b=Object(a.useState)([]),f=Object(o.a)(b,2),m=f[0],v=f[1],j=Object(a.useState)(""),O=Object(o.a)(j,2),k=O[0],S=O[1],C=Object(a.useState)(!1),w=Object(o.a)(C,2),N=w[0],A=w[1],V=Object(a.useState)(""),E=Object(o.a)(V,2),T=E[0],B=E[1],I=Object(a.useState)(""),F=Object(o.a)(I,2),H=F[0],_=F[1],P=Object(a.useState)("array"),U=Object(o.a)(P,2),W=U[0],L=U[1];return Object(c.jsxs)("div",{className:"header-btn",children:[Object(c.jsxs)("div",{className:"variable-select",children:[Object(c.jsx)("span",{children:"Add data structure: "}),Object(c.jsx)("div",{className:"variable-select-select1",children:Object(c.jsx)(Ze.a,{options:n,onChange:function onChange(e){B(e[0]),_(e[1])}})}),Object(c.jsx)("div",{className:"variable-select-select2",children:Object(c.jsx)(Ye.a,{options:[{label:"Array",value:"array"},{label:"String",value:"string"},{label:"Variable",value:"variable"},{label:"Arrow",value:"point"}],defaultValue:"array",onChange:function onChange(e){L(e)}})}),Object(c.jsx)("div",{className:"variable-select-button",children:Object(c.jsx)(Qe.a,{type:"primary",onClick:function onClick(){r(T,H,W)},icon:Object(c.jsx)(et.a,{})})}),Object(c.jsx)("div",{className:"variable-select-button",children:Object(c.jsx)(Qe.a,{type:"primary",danger:!0,onClick:function onClick(){Object(M.b)("removeAllDataStructure")},icon:Object(c.jsx)(tt.a,{})})})]}),Object(c.jsxs)("div",{className:"header-select",children:[Object(c.jsx)("span",{children:"Animation speed: "}),Object(c.jsxs)(Ye.a,{defaultValue:"1.0",style:{width:80},onChange:t,children:[Object(c.jsx)(ct,{value:"2.0",children:"2.0x"}),Object(c.jsx)(ct,{value:"1.5",children:"1.5x"}),Object(c.jsx)(ct,{value:"1.25",children:"1.25x"}),Object(c.jsx)(ct,{value:"1.0",children:"1.0x"}),Object(c.jsx)(ct,{value:"0.75",children:"0.75x"}),Object(c.jsx)(ct,{value:"0.5",children:"0.5x"})]})]}),Object(c.jsx)(Pe,{iconHrefLight:g?it:rt,iconHrefDark:g?it:rt,onClick:function onClick(){if(g){var e=D.g("#svg");p(!1),clearInterval(l),A(!0),S(""),at.a.createGIF({gifWidth:e.attr("width"),gifHeight:e.attr("height"),images:m,numWorkers:4,frameDuration:.1,numFrames:m.length},(function(e){if(A(!1),!e.error){var t=e.image;S(t)}}))}else v([]),p(!0),u(setInterval((function(){var e=D.g("#svg").attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg").node().parentNode.innerHTML.split("<div")[0],t="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e)));m.push(t),v(m)}),100))},disabled:!1}),Object(c.jsx)(Pe,{iconHrefLight:N?ot:st,iconHrefDark:st,onClick:function onClick(){var e=document.createElement("a");e.download="action.gif",e.href=k,document.body.appendChild(e),e.click(),e.remove()},disabled:""===k})]})},ut=function(){function AnimationDrawer(e,t){Object(j.a)(this,AnimationDrawer),this.execState=void 0,this.lastState=void 0,this.state=void 0,this.variableKeys=void 0,this.variableTypes=void 0,this.variableValues=void 0,this.postArgs=void 0,this.stack=void 0,"undefined"!==typeof e&&(this.execState=e,"undefined"!==typeof t&&(this.lastState=t,this.reset(),this.getCurrentStack(),this.parseExe(),console.log(this)))}return Object(O.a)(AnimationDrawer,[{key:"reset",value:function reset(){this.state="",this.stack=void 0,this.postArgs=[],this.variableKeys=[],this.variableTypes=[],this.variableValues=[]}},{key:"parseExe",value:function parseExe(){var e=this.execState.getCurrentExpr(),t=e.constructor.name,n="",a=void 0;switch(this.lastState&&(this.execState.getStacks().length,this.lastState.getStacks().length,n=(a=this.lastState.getNextExpr()).constructor.name),t){case"UniProgram":this.state="programInit";break;case"UniVariableDec":this.state="variablesInit",this.variableDec(e);break;case"UniMethodCall":this.methodCall(e);break;case"UniBinOp":this.binOp(e)}switch(n){case"UniMethodCall":this.methodCall(a);break;case"UniBinOp":this.binOp(a);break;case"UniReturn":"UniMethodCall"===t&&"printf"===e.methodName.name&&e.args.length>1&&"UniMethodCall"===e.args[1].constructor.name&&this.initMethodCall(),this.state="uniReturn",this.uniReturn(a);break;case"UniVariableDec":this.variableKeys=[],this.variableTypes=[],this.variableValues=[],this.state="variablesInit",this.variableDec(a)}}},{key:"binOp",value:function binOp(e){var t=e.operator,n=e.right;if(n){switch(n.constructor.name){case"UniMethodCall":this.methodCall(n);break;case"UniBinOp":this.binOp(n)}if("="!==t){var a=e.left;switch(a.constructor.name){case"UniMethodCall":this.methodCall(a);break;case"UniBinOp":this.binOp(a)}}}}},{key:"initMethodCall",value:function initMethodCall(){this.postArgs=[],this.variableKeys=[],this.variableTypes=[],this.variableValues=[]}},{key:"methodCall",value:function methodCall(e){var t=this,n=e.methodName.name;this.execState.getStacks().forEach((function(a){return n===a.name?(t.state="methodCall",t.initMethodCall(),void t.getMethodArgs(e)):"printf"===n&&e.args.length>1&&"UniMethodCall"===e.args[1].constructor.name?"uniReturn"===t.state?void t.initMethodCall():(t.state="methodCall",t.initMethodCall(),void t.getMethodArgs(e)):void 0})),this.lastState.getStacks().forEach((function(a){if(n===a.name)return t.state="methodCall",t.postArgs=[],void t.getMethodArgs(e)}))}},{key:"variableDec",value:function variableDec(e){var t=this,n=e.variables;n&&n.forEach((function(e){t.variableDef(e)}))}},{key:"variableDef",value:function variableDef(e){var t=this.stack.name+"-"+e.name;t=t.replace(/[&\|\\\*:^%$@()\[\].]/g,"_");var n=e.value;if(n){switch(n.constructor.name){case"UniMethodCall":this.methodCall(n);break;case"UniBinOp":this.binOp(n)}for(var a=this.stack.getVariables(),r=0;r<a.length;r++)if(a[r].name===e.name){var i=a[r].type,s=a[r].getValue();this.variableKeys.push(t),this.variableTypes.push(i),i.split("[").length>1?this.variableValues.push(arrayToString(s,i.split("[")[0])):Object(Se.inArray)(i.split("[")[0],["char","unsignedchar"])<0?this.variableValues.push(s):this.variableValues.push(String.fromCharCode(s));break}}}},{key:"uniReturn",value:function uniReturn(e){this.execState.getCurrentExpr().constructor.name;var t=e.value;t&&(this.postArgs=[],this.travelValue(t))}},{key:"travelValue",value:function travelValue(e){var t=e.constructor.name;"UniIdent"!==t?"UniBinOp"===t&&(this.travelValue(e.left),this.travelValue(e.right)):this.postArgs.push((this.lastState.getStacks()[this.lastState.getStacks().length-1].name+"-"+e.name).replace(/[&\|\\\*:^%$@()\[\].]/g,"_"))}},{key:"travelArg",value:function travelArg(e,t){var n=e.constructor.name;this.postArgs.length===t&&this.postArgs.push(void 0),"UniIdent"!==n?"UniBinOp"===n?(this.travelArg(e.left,t),this.travelArg(e.right,t)):"UniMethodCall"===n&&this.methodCall(e):void 0===this.postArgs[t]&&(this.postArgs[t]=(this.lastState.getStacks()[this.lastState.getStacks().length-1].name+"-"+e.name).replace(/[&\|\\\*:^%$@()\[\].]/g,"_"))}},{key:"getMethodArgs",value:function getMethodArgs(e){var t=this,n=e.args,a=this.stack.getVariables();n.forEach((function(e,n){t.travelArg(e,n);var r=a[n].type,i=a[n].getValue();t.variableKeys.push((t.stack.name+"-"+a[n].name).replace(/[&\|\\\*:^%$@()\[\].]/g,"_")),t.variableTypes.push(r),r.split("[").length>1?t.variableValues.push(arrayToString(i,r.split("[")[0])):Object(Se.inArray)(r.split("[")[0],["char","unsignedchar"])<0?t.variableValues.push(i):t.variableValues.push(String.fromCharCode(i))}))}},{key:"getCurrentStack",value:function getCurrentStack(){var e=this.execState.getStacks(),t=e[e.length-1];return this.stack=t,t}},{key:"getState",value:function getState(){return this.state}},{key:"getVariableKeys",value:function getVariableKeys(){return this.variableKeys}},{key:"getVariableTypes",value:function getVariableTypes(){return this.variableTypes}},{key:"getVariableValues",value:function getVariableValues(){return this.variableValues}},{key:"getStackName",value:function getStackName(){return this.stack?this.stack.name.replace(/[&\|\\\*:^%$@()\[\].]/g,"_"):""}},{key:"getStacks",value:function getStacks(){return this.execState?this.execState.getStacks():[]}},{key:"getPostArgs",value:function getPostArgs(){return this.postArgs}}]),AnimationDrawer}();var dt=function ArrayBlock(e){var t=e.info;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("text",{x:t.getPos()[0],y:t.getPos()[1],fontSize:"20",fill:"rgb(139, 139, 139)",className:"variable-name",fontWeight:"blod",children:t.getVarName()}),Object(c.jsx)("rect",{x:t.getPos()[0],y:t.getPos()[1]+15,width:60,height:50,fill:"white",style:{stroke:"#979797",strokeWidth:"1.5px",opacity:"".concat(0===t.getValue().length?.2:0)}}),t.getValue().map((function(e,n){return Object(c.jsxs)("g",{children:[Object(c.jsx)("rect",{x:t.getPos()[0]+60*n,y:t.getPos()[1]+15,width:60,height:50,fill:"white",style:{stroke:"#979797",strokeWidth:"1.5px"},className:"data_structure"}),Object(c.jsx)("text",{x:t.getPos()[0]+60*n+(60-10*Math.min(e.length,5))/2,y:t.getPos()[1]+47,fontSize:"18",fill:"rgb(139, 139, 139)",className:"variable-name",children:e.length>5?e.substring(0,4)+"...":e.substring(0,5)})]},n)}))]})};var ht=function Point(e){var t=e.info;return Object(a.useEffect)((function(){return D.h(".point-arrow").call(D.a().on("start",(function(e){})).on("drag",(function(e){D.g(this).attr("transform",(function(){var t=this.attributes.transform.value.replace(")","");return t=t.split(","),"matrix(1,0,0,1,"+(e.dx+Number(t[4]))+","+(e.dy+Number(t[5]))+")"}))})).on("end",(function(e){var t,n,a=D.g(this.parentNode),r=D.g(this),i=D.g("#svg").selectAll(".data_structure"),s=r.attr("transform"),o=[],c=a.attr("transform");o[0]=Number.parseFloat(c.split(",")[4]),o[1]=Number.parseFloat(c.split(",")[5].split(")")[0]),t=Number.parseFloat(s.split(",")[4])+o[0]- -11.5,n=Number.parseFloat(s.split(",")[5].split(")")[0])+o[1]-0;var l=!1;i.each((function(e,i){if(!l){var s=D.g(this),o=D.g(this.parentNode.parentNode).attr("transform"),c=Number.parseInt(s.attr("x"))+Number.parseFloat(o.split(",")[4]),u=Number.parseInt(s.attr("y"))+Number.parseFloat(o.split(",")[5].split(")")[0]);if(t>=c&&t<c+60&&n>=u&&n<u+50){l=!0;var d=c+30+-11.5,h=u+50+0,g=r.attr("id").split("-");return Object(M.b)("updatePointPos",g[2],g[3],d,h),a.attr("transform","matrix(1,0,0,1,".concat(d,",").concat(h,")")),void r.attr("transform","matrix(1,0,0,1,0,0)")}}}))}))),function(){}}),[]),Object(c.jsxs)("g",{className:"point-arrow",transform:"matrix(1,0,0,1,0,0)",id:"point-arrow-".concat(t.getFuncName(),"-").concat(t.getVarName()),children:[Object(c.jsx)("text",{x:5,y:45,fontSize:"20",fill:"rgb(139, 139, 139)",className:"variable-name",fontWeight:"blod",children:t.getVarName()}),Object(c.jsx)("svg",{className:"icon",width:"23px",height:"26px",viewBox:"0 0 23 26",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:Object(c.jsx)("g",{transform:"translate(1.000000, 1.000000)",fill:"rgba(0,0,0,0)",stroke:"rgba(160,160,160,".concat(null===t.getValue()?.3:1,")"),"stroke-width":"1.75",children:Object(c.jsx)("g",{transform:"translate(10.500000, 12.222222) rotate(90.000000) translate(-10.500000, -12.222222) translate(-1.000000, 2.000000)",children:Object(c.jsx)("path",{d:"M21.2480469,5.03837137 L21.2355686,5.03837137 L21.2355686,5.03582803 L19.8854167,5.03582803 L19.8854167,5.03328468 L11.5399306,5.03328468 C11.2753906,4.97478769 11.0707465,4.7560598 11.030816,4.48137827 L11.030816,1.05294586 C11.030816,1.03514243 11.030816,1.01988234 11.0283203,1.00207891 C11.0283203,0.994448868 11.0283203,0.986818825 11.0258247,0.976645435 C11.0258247,0.969015393 11.0258247,0.958842003 11.023329,0.95121196 C11.023329,0.94103857 11.0208333,0.93086518 11.0208333,0.920691791 C11.0208333,0.913061748 11.0183377,0.907975053 11.0183377,0.900345011 C11.015842,0.890171621 11.015842,0.877454883 11.0133464,0.867281493 C11.0133464,0.862194798 11.0108507,0.857108103 11.0108507,0.849478061 C11.008355,0.839304671 11.0058594,0.826587933 11.0033637,0.816414544 C11.0033637,0.811327849 11.0008681,0.806241154 11.0008681,0.801154459 L10.9933811,0.770634289 C10.9908854,0.765547594 10.9908854,0.757917551 10.9883898,0.752830856 C10.9858941,0.742657466 10.9833984,0.732484076 10.9784071,0.724854034 C10.9759115,0.717223992 10.9734158,0.712137297 10.9709201,0.704507254 C10.9684245,0.696877212 10.9634332,0.686703822 10.9609375,0.679073779 L10.9534505,0.656183652 C10.9509549,0.648553609 10.9459635,0.640923567 10.9434679,0.633293524 C10.9409722,0.625663482 10.9359809,0.615490092 10.9334852,0.60786005 C10.9309896,0.602773355 10.9284939,0.595143312 10.9235026,0.590056617 C10.9185113,0.579883227 10.91352,0.572253185 10.9110243,0.562079795 C10.9085286,0.5569931 10.906033,0.551906405 10.9010417,0.54681971 C10.8960503,0.53664632 10.891059,0.529016277 10.8860677,0.518842887 C10.883572,0.513756192 10.8810764,0.508669498 10.8760851,0.503582803 C10.8710938,0.493409413 10.8636068,0.48577937 10.8586155,0.47560598 C10.8561198,0.470519285 10.8511285,0.46543259 10.8486328,0.460345895 C10.8436415,0.450172505 10.8361545,0.442542463 10.8286675,0.432369073 C10.8236762,0.427282378 10.8211806,0.422195683 10.8161892,0.417108988 C10.8111979,0.409478946 10.8037109,0.401848903 10.7987196,0.394218861 C10.7937283,0.386588818 10.7862413,0.381502123 10.78125,0.373872081 C10.7762587,0.368785386 10.7712674,0.361155343 10.766276,0.356068648 C10.7537977,0.343351911 10.7438151,0.330635173 10.7313368,0.317918436 C10.7188585,0.305201699 10.7063802,0.295028309 10.6939019,0.282311571 C10.6889106,0.277224876 10.6814236,0.272138181 10.6764323,0.267051486 C10.6689453,0.261964791 10.663954,0.254334749 10.656467,0.249248054 C10.64898,0.241618011 10.6414931,0.236531316 10.6340061,0.231444621 C10.6290148,0.226357926 10.6240234,0.223814579 10.6190321,0.218727884 C10.6090495,0.211097841 10.6015625,0.206011146 10.5915799,0.198381104 C10.5865885,0.195837757 10.5815972,0.190751062 10.5766059,0.188207714 C10.5666233,0.183121019 10.5591363,0.175490977 10.5491536,0.170404282 C10.5441623,0.167860934 10.539171,0.165317587 10.5341797,0.160230892 C10.524197,0.155144197 10.5167101,0.150057502 10.5067274,0.144970807 C10.5017361,0.142427459 10.4967448,0.139884112 10.4917535,0.134797417 C10.4817708,0.129710722 10.4742839,0.124624027 10.4643012,0.122080679 C10.4593099,0.119537332 10.4518229,0.116993984 10.4468316,0.111907289 C10.4393446,0.106820594 10.429362,0.104277247 10.421875,0.1017339 C10.414388,0.099190552 10.406901,0.094103857 10.3994141,0.0915605096 L10.3769531,0.0839304671 C10.3694661,0.0813871196 10.3594835,0.0763004246 10.3519965,0.0737570771 C10.3445095,0.0712137297 10.3395182,0.0686703822 10.3320312,0.0661270347 C10.3220486,0.0635836872 10.312066,0.0584969922 10.304579,0.0559536447 C10.2995877,0.0534102972 10.2921007,0.0534102972 10.2871094,0.0508669498 L10.2571615,0.0432369073 C10.2521701,0.0406935598 10.2471788,0.0406935598 10.2396918,0.0381502123 C10.2297092,0.0356068648 10.2172309,0.0330635173 10.2072483,0.0305201699 C10.2022569,0.0305201699 10.1972656,0.0279768224 10.1897786,0.0279768224 C10.179796,0.0254334749 10.1673177,0.0228901274 10.1573351,0.0228901274 C10.1498481,0.0228901274 10.1448568,0.0203467799 10.1373698,0.0203467799 C10.1273872,0.0178034324 10.1174045,0.0178034324 10.1074219,0.0178034324 C10.0999349,0.0178034324 10.0899523,0.0152600849 10.0824653,0.0152600849 C10.0749783,0.0152600849 10.0674913,0.0127167374 10.0600043,0.0127167374 C10.0275608,0.01017339 9.99262153,0.01017339 9.95768229,0.0127167374 C9.95019531,0.0127167374 9.94270833,0.0127167374 9.93522135,0.0152600849 C9.92773438,0.0152600849 9.91775174,0.0152600849 9.91026476,0.0178034324 C9.90028212,0.0178034324 9.89029948,0.0203467799 9.88031684,0.0203467799 C9.87282986,0.0203467799 9.86783854,0.0228901274 9.86035156,0.0228901274 C9.85036892,0.0254334749 9.83789062,0.0254334749 9.82790799,0.0279768224 C9.82291667,0.0279768224 9.81792535,0.0305201699 9.81043837,0.0305201699 C9.80045573,0.0330635173 9.78797743,0.0356068648 9.77799479,0.0381502123 C9.77300347,0.0406935598 9.76801215,0.0406935598 9.76052517,0.0432369073 L9.73057726,0.0508669498 C9.72558594,0.0534102972 9.71809896,0.0534102972 9.71310764,0.0559536447 C9.703125,0.0584969922 9.69314236,0.0610403397 9.68565538,0.0661270347 C9.6781684,0.0686703822 9.67317708,0.0712137297 9.6656901,0.0737570771 C9.65820312,0.0763004246 9.64822049,0.0813871196 9.64073351,0.0839304671 C9.63324653,0.0864738146 9.62575955,0.0890171621 9.61827257,0.094103857 C9.61078559,0.0966472045 9.60329861,0.1017339 9.59581163,0.104277247 C9.58832465,0.106820594 9.57834201,0.111907289 9.57085503,0.114450637 C9.56586372,0.116993984 9.55837674,0.119537332 9.55338542,0.124624027 C9.54340278,0.129710722 9.5359158,0.134797417 9.52593316,0.139884112 C9.52094184,0.142427459 9.51595052,0.144970807 9.5109592,0.150057502 C9.50097656,0.155144197 9.49099392,0.160230892 9.48350694,0.165317587 C9.47851562,0.167860934 9.47352431,0.170404282 9.46853299,0.175490977 C9.45855035,0.180577672 9.44856771,0.188207714 9.44108073,0.193294409 C9.43608941,0.195837757 9.43109809,0.200924452 9.42610677,0.203467799 C9.41612413,0.208554494 9.40863715,0.216184536 9.39865451,0.223814579 C9.39366319,0.228901274 9.38867187,0.231444621 9.38368056,0.236531316 C9.37619358,0.241618011 9.3687066,0.249248054 9.35872396,0.254334749 C9.35123698,0.259421444 9.34624566,0.264508139 9.33875868,0.272138181 C9.33376736,0.277224876 9.32628038,0.282311571 9.32128906,0.287398266 C9.30881076,0.297571656 9.29633247,0.310288393 9.28634983,0.323005131 L0.331922743,9.44344922 L0.309461806,9.46633935 C0.109809028,9.66980715 0.00998263889,9.93685863 0.00998263889,10.2039101 C0.00998263889,10.4709616 0.109809028,10.7380131 0.309461806,10.9414809 L0.331922743,10.964371 L9.28634983,20.0899018 C9.48849826,20.295913 9.75553385,20.3976469 10.0200738,20.3951035 L10.0300564,20.3951035 C10.5940755,20.3951035 11.0532769,19.9296709 11.0532769,19.352331 L11.0532769,15.2804317 L21.6024306,15.2804317 C22.296224,15.1354609 22.8377821,14.5555777 22.9401042,13.8358103 L22.9401042,6.59235669 C22.8502604,5.7199885 22.1265191,5.03837137 21.2480469,5.03837137 Z"})})})})]})},gt=function(){function DataStructureDrawer(e){Object(j.a)(this,DataStructureDrawer),this.execState=null,this.dataStructures=[],this.arrayCount=0,this.pointCount=0,this.arrayStartPos=[800,50],this.pointStartPos=[911.5,50],"undefined"!==typeof e&&(this.execState=e)}return Object(O.a)(DataStructureDrawer,[{key:"update",value:function update(){var e,t=this.dataStructures,n=Object(b.a)(t);try{for(n.s();!(e=n.n()).done;){var a=e.value,r=a.getValue();if(this.execState){var i,s=this.execState.getStacks(),o=!1,c=Object(b.a)(s);try{for(c.s();!(i=c.n()).done;){var l=i.value;if(l.name===a.getFuncName()){var u,d=l.getVariables(),h=Object(b.a)(d);try{for(h.s();!(u=h.n()).done;){var g=u.value;if(g.name===a.getVarName()){if(o=!0,"array"===a.getType()||"string"===a.getType()){r=[];for(var p=g.getValue(),f=0;f<p.length;f++)r.push(p[f].getValue().toString())}else if("point"===a.getType()){r=g.getValue().valueOf();var m=a.getValue();if(null!==m&&void 0!==m){var v=a.getPos();a.setPos(v[0]+60*(r-m),v[1])}}else if("variable"===a.getType()){var j=g.getValue();switch(g.type){case"int":r=j.valueOf();break;case"char":r=String.fromCharCode(Number.parseInt(j));break;case"float":r=j}}a.setValue(r);break}}}catch(O){h.e(O)}finally{h.f()}}}}catch(O){c.e(O)}finally{c.f()}o||("array"===a.getType()||"string"===a.getType()?a.setValue([]):"point"!==a.getType()&&"variable"!==a.getType()||a.setValue(null))}else"array"===a.getType()||"string"===a.getType()?a.setValue([]):"point"!==a.getType()&&"variable"!==a.getType()||a.setValue(null)}}catch(O){n.e(O)}finally{n.f()}this.dataStructures=t}},{key:"removeAll",value:function removeAll(){this.dataStructures=[],this.arrayCount=0,this.pointCount=0}},{key:"addDataStructure",value:function addDataStructure(e,t,n){var a,r,i=Object(b.a)(this.dataStructures);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(s.getFuncName()===e&&s.getVarName()===t)return}}catch(O){i.e(O)}finally{i.f()}var o=[];if("array"===n||"string"===n?(r=[],o[0]=this.arrayStartPos[0],o[1]=this.arrayStartPos[1]+85*this.arrayCount,this.arrayCount=this.arrayCount+1):"point"===n?(r=null,o[0]=this.pointStartPos[0],o[1]=this.pointStartPos[1]+85*this.pointCount,this.pointCount=this.pointCount+1):"variable"===n&&(r=null,o[0]=this.arrayStartPos[0],o[1]=this.arrayStartPos[1]+85*this.arrayCount,this.arrayCount=this.arrayCount+1),this.execState){var c,l=this.execState.getStacks(),u=Object(b.a)(l);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(d.name===e){var h,g=d.getVariables(),p=Object(b.a)(g);try{for(p.s();!(h=p.n()).done;){var f=h.value;if(f.name===t)if("array"===n||"string"===n){r=[];for(var m=f.getValue(),v=0;v<m.length;v++)r.push(m[v].getValue().toString())}else("point"===n||"variable"===n)&&(r=f.getValue().valueOf())}}catch(O){p.e(O)}finally{p.f()}break}break}}catch(O){u.e(O)}finally{u.f()}}var j=new pt(e,t,n,r);j.setPos(o[0],o[1]),this.dataStructures.push(j)}},{key:"setExecState",value:function setExecState(e){this.execState=e}},{key:"getDataStructures",value:function getDataStructures(){return this.dataStructures}},{key:"getPoints",value:function getPoints(){var e,t=[],n=this.dataStructures,a=Object(b.a)(n);try{for(a.s();!(e=a.n()).done;){var r=e.value;"point"===r.getType()&&t.push(r)}}catch(i){a.e(i)}finally{a.f()}return t}},{key:"updatePointPos",value:function updatePointPos(e,t,n,a){for(var r=this.dataStructures,i=0;i<r.length;i++)if(r[i].getFuncName()===e&&r[i].getVarName()===t&&"point"===r[i].getType()){r[i].setPos(n,a);break}this.dataStructures=r}}]),DataStructureDrawer}(),pt=function(){function DataStructureInfo(e,t,n,a){Object(j.a)(this,DataStructureInfo),this.funcName="",this.varName="",this.value=void 0,this.type="",this.pos=[0,0],this.funcName=e,this.varName=t,this.type=n,this.value=a}return Object(O.a)(DataStructureInfo,[{key:"getFuncName",value:function getFuncName(){return this.funcName}},{key:"getVarName",value:function getVarName(){return this.varName}},{key:"getValue",value:function getValue(){return this.value}},{key:"getType",value:function getType(){return this.type}},{key:"getPos",value:function getPos(){return this.pos}},{key:"setValue",value:function setValue(e){this.value=e}},{key:"setPos",value:function setPos(e,t){this.pos[0]=e,this.pos[1]=t}}]),DataStructureInfo}();var bt=function StringBlock(e){var t=e.info;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("text",{x:t.getPos()[0],y:t.getPos()[1],fontSize:"20",fill:"rgb(139, 139, 139)",className:"variable-name",fontWeight:"blod",children:t.getVarName()}),Object(c.jsx)("rect",{x:t.getPos()[0],y:t.getPos()[1]+15,width:60,height:50,fill:"white",style:{stroke:"#979797",strokeWidth:"1.5px",opacity:"".concat(0===t.getValue().length?.2:0)}}),t.getValue().map((function(e,n){return Object(c.jsxs)("g",{children:[Object(c.jsx)("rect",{x:t.getPos()[0]+60*n,y:t.getPos()[1]+15,width:60,height:50,fill:"white",style:{stroke:"#979797",strokeWidth:"1.5px"},className:"data_structure"}),Object(c.jsx)("text",{x:t.getPos()[0]+28+60*n,y:t.getPos()[1]+45,fontSize:"15",fill:"rgb(139, 139, 139)",className:"variable-name",children:"0"!==e?String.fromCharCode(Number.parseInt(e)):" "})]},n)}))]})};var ft=function VariableBlock(e){var t=e.info;return Object(a.useEffect)((function(){return function(){D.g("#svg").selectAll(".variable-block").each((function(){var e=D.g(this),t=e.select(".variable-block-text").node().getBBox().width;e.selectAll(".variable-block-rect").attr("width",Math.max(t+40,50))}))}})),Object(c.jsxs)("g",{className:"variable-block",children:[Object(c.jsx)("text",{x:t.getPos()[0],y:t.getPos()[1],fontSize:"20",fill:"rgb(139, 139, 139)",className:"variable-name",fontWeight:"blod",children:t.getVarName()}),Object(c.jsx)("rect",{x:t.getPos()[0],y:t.getPos()[1]+15,width:50,height:50,fill:"white",style:{stroke:"#979797",strokeWidth:"1.5px",opacity:"".concat(null!==t.getValue()?1:.2)},className:"variable-block-rect"}),Object(c.jsx)("text",{x:t.getPos()[0]+20,y:t.getPos()[1]+45,fontSize:"18",className:"variable-block-text variable-name",fill:"rgb(139, 139, 139)",children:"\0"===t.getValue()?"":t.getValue()})]})};function dragged(e){D.g(this).attr("transform",(function(){var t=this.attributes.transform.value.replace(")","");return t=t.split(","),"matrix(1,0,0,1,"+(e.dx+Number(t[4]))+","+(e.dy+Number(t[5]))+")"}))}var mt=function DataStructure(e){var t=e.execState,n=Object(a.useState)(new gt(t)),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(0),u=Object(o.a)(l,2),d=u[0],h=u[1];return Object(a.useEffect)((function(){return Object(M.c)("addDataStructure",(function(e,t,n){i.addDataStructure(e,t,n),s(i),h(d+1)})),Object(M.c)("updateDataStructure",(function(e){console.log(e),i.setExecState(e),i.update(),s(i),h(d+1)})),Object(M.c)("updatePointPos",(function(e,t,n,a){i.updatePointPos(e,t,n,a),s(i)})),Object(M.c)("removeAllDataStructure",(function(){i.removeAll(),s(i),h(d+1)})),function(){Object(M.a)("addDataStructure"),Object(M.a)("updateDataStructure"),Object(M.a)("updatePointPos"),Object(M.a)("removeAllDataStructure"),D.h(".dragable").call(D.a().on("drag",dragged))}}),[i,d]),Object(c.jsxs)(c.Fragment,{children:[i.getDataStructures().map((function(e){return"array"===e.getType()?Object(c.jsx)("g",{className:"dragable",transform:"matrix(1,0,0,1,0,0)",children:Object(c.jsx)(dt,{info:e})},e.getFuncName()+"-"+e.getVarName()):"string"===e.getType()?Object(c.jsx)("g",{className:"dragable",transform:"matrix(1,0,0,1,0,0)",children:Object(c.jsx)(bt,{info:e})},e.getFuncName()+"-"+e.getVarName()):"variable"===e.getType()?Object(c.jsx)("g",{className:"dragable",transform:"matrix(1,0,0,1,0,0)",children:Object(c.jsx)(ft,{info:e})},e.getFuncName()+"-"+e.getVarName()):void 0})),i.getPoints().map((function(e){return Object(c.jsx)("g",{className:"dragable",transform:"matrix(1,0,0,1,".concat(e.getPos()[0],",").concat(e.getPos()[1],")"),id:"point-arrow-".concat(e.getFuncName(),"-").concat(e.getVarName()),children:Object(c.jsx)(ht,{info:e})},e.getFuncName()+"-"+e.getVarName())}))]})},vt=(n(807),n(465)),jt=function(e){Object(S.a)(CallStackPanel,e);var t=Object(C.a)(CallStackPanel);function CallStackPanel(e){var n;return Object(j.a)(this,CallStackPanel),(n=t.call(this,e)).handleChange=function(e){var t=1/parseFloat(e);sessionStorage.setItem("exec","step"),n.setState({speed:t})},n.addDataStructure=function(e,t,a){Object(M.b)("addDataStructure",e,t,a),Object(M.b)("updateDataStructure",n.props.execState)},n.state={speed:1,options:[]},Object(M.c)("initAllVariables",(function(e){var t=[];Object.keys(e).forEach((function(n){var a={value:n,label:n,children:[]};Object.keys(e[n]).forEach((function(e){a.children.push({value:e,label:e})})),t.push(a)})),n.setState({options:t})})),n}return Object(O.a)(CallStackPanel,[{key:"componentWillUpdate",value:function componentWillUpdate(e){Object(M.b)("updateDataStructure",e.execState)}},{key:"componentDidUpdate",value:function componentDidUpdate(){D.g(".callStack-area").select("svg").attr("id","svg");var e=this.props.variableShowUps,t=this.props.execState,n=this.props.lastState;n&&t&&e&&e.forEach((function(e){e.name.indexOf(":")>0||(xt(e,n,t)?Ot(e.funcName,e.name):kt(e.funcName,e.name))}))}},{key:"render",value:function render(){var e=new Re(this.props.execState);new ut(this.props.execState,this.props.lastState);return Object(c.jsxs)("div",{id:"CallStackPanel",className:"panel",children:[Object(c.jsx)(p,{title:"Call Stack"}),Object(c.jsx)(lt,{handleChange:this.handleChange,options:this.state.options,addDataStructure:this.addDataStructure}),Object(c.jsx)("div",{className:"callStack-area",children:Object(c.jsx)(vt.a,{width:this.props.width-20,height:.75*this.props.height-28-39.2,tool:"auto",background:"#ffffff",detectAutoPan:!1,scaleFactorMin:.2,scaleFactorMax:5,toolbarProps:{position:"none"},id:"svg",children:Object(c.jsxs)("svg",{width:this.props.width-20,height:.75*this.props.height-28-39.2,children:[Object(c.jsx)("rect",{width:this.props.width-20,height:.75*this.props.height-28-39.2,x:0,y:0,fill:"#ffffff"}),Object(c.jsx)("marker",{id:"end",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:"8",markerHeight:"8",orient:"auto",children:Object(c.jsx)("circle",{cx:0,cy:0,style:{stroke:"#483647",strokeWidth:2,fill:"white"},r:8})}),Object(c.jsx)("marker",{id:"start",viewBox:"-10 -10 20 20",refX:"0",refY:"0",markerWidth:"8",markerHeight:"8",orient:"auto",children:Object(c.jsx)("circle",{cx:0,cy:0,style:{stroke:"#979797",strokeWidth:2,fill:"white"},r:8})}),Object(c.jsx)(Je,{blockDrawer:e}),Object(c.jsx)("g",{id:"clone"}),Object(c.jsx)("g",{id:"path"}),Object(c.jsx)(mt,{execState:this.props.execState})]})})}),Object(c.jsx)(Ke,{animationDrawer:new ut(this.props.execState,this.props.lastState),speed:this.state.speed}),Object(c.jsx)("div",{id:"image-container",style:{display:"none"}})]})}}]),CallStackPanel}(r.a.Component),xt=function variableChanged(e,t,n){var a=e.funcName,r=e.variable,i=t.getStacks(),s=n.getStacks(),o=void 0,c=void 0;return i.forEach((function(e){a===e.name&&(o=yt(r,e.getVariables()))})),s.forEach((function(e){a===e.name&&(c=yt(r,e.getVariables()))})),void 0!==o&&void 0!==c&&o.toString()!==c.toString()},yt=function getValueFromStack(e,t){var n=void 0;return t.forEach((function(t){var a=t.getValue();if(a instanceof Array){var r=getValueFromStack(e,a);if(void 0!==r)return r}else if(e.address===t.address)return void(n=a)})),n},Ot=function highlightChangedVariable(e,t){var n=D.g("#block-"+e+"-"+t),a="rgb(74, 140, 227)";n.select(".variable-name").attr("fill",a),n.select(".variable-value").attr("fill",a),n.select("rect").attr("style","stroke: "+a)},kt=function resetVariableColor(e,t){var n="rgb(139, 139, 139)",a=D.g("#block-"+e+"-"+t);a.select(".variable-name").attr("fill",n),a.select(".variable-value").attr("fill",n),a.select("rect").attr("style","stroke: "+n)},St=n(131),Ct=(n(334),n(808),function HeaderCell(e){var t=e.variable,n=e.selectedVar,a=e.handleClick,r=e.isFolded,i=e.foldArray,s=t.address,o=t.name,l=t.type;return Object(c.jsxs)("div",{className:ve()("memory-cell",{active:(null===n||void 0===n?void 0:n.address)===s,"in-heap":""===o}),children:[Object(c.jsx)("div",{className:"col-name variable-name",children:o}),Object(c.jsxs)("div",{className:"col-value",onClick:function onClick(){a(t)},children:[Object(c.jsx)("div",{className:"col-1",children:l}),Object(c.jsx)("div",{className:"col-2",children:At(t)})]}),Object(c.jsx)("div",{className:"col-arrow",onClick:function onClick(){i()},children:r?"\u25bc":"\u25b2"})]})}),wt=function ArrayMemoryCell(e){var t=e.variable,n=e.selectedVar,r=e.handleClick,i=Object(a.useState)(!0),s=Object(o.a)(i,2),l=s[0],u=s[1],d=t.getValue();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ct,{variable:t,selectedVar:n,handleClick:r,isFolded:l,foldArray:function foldArray(){u(!l)}}),l?Object(c.jsx)(c.Fragment,{}):d.map((function(e){return Object(c.jsx)(Nt,{variable:e,selectedVar:n,handleClick:r},e.address)}))]})};var Nt=function MemoryCell(e){var t=e.variable,n=e.selectedVar,a=e.handleClick,r=t.name,i=t.type,s=t.address;return-1===i.indexOf("[")?Object(c.jsxs)("div",{className:ve()("memory-cell",{active:(null===n||void 0===n?void 0:n.address)===s,"in-heap":""===r}),children:[Object(c.jsx)("div",{className:"col-name variable-name",children:r}),Object(c.jsxs)("div",{className:"col-value",onClick:function onClick(){a(t)},children:[Object(c.jsx)("div",{className:"col-1",children:i}),Object(c.jsx)("div",{className:"col-2",children:At(t)})]})]}):Object(c.jsx)(wt,{variable:t,selectedVar:n,handleClick:a})};var At=function getValue(e){var t=e.getValue();return"char"===e.type?"'"+String.fromCharCode(t)+"'":t instanceof Array?"Array":t.toString()};var Vt=function MemoryBlock(e){var t=e.funcName,n=e.variables,a=e.selectedVar,r=e.handleClick;return Object(c.jsxs)("div",{className:"memory-block",children:[Object(c.jsx)("div",{className:"highlight-bar"}),Object(c.jsxs)("div",{className:"main-content",children:[Object(c.jsx)("div",{className:"function-name",children:t}),Object(c.jsx)("div",{className:"cells",children:n.map((function(e){e.getValue();return Object(c.jsx)(Nt,{variable:Object.assign(e,{parentName:t}),selectedVar:a,handleClick:r},e.name)}))})]})]})};n(335);var Et=function LogicalView(e){var t=e.execState,n=e.selectedVar,r=e.handleClick,i=Object(a.useState)([]),s=Object(o.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)([]),h=Object(o.a)(d,2),g=h[0],p=h[1],b=Object(a.useState)([]),f=Object(o.a)(b,2),m=f[0],v=f[1];return Object(a.useEffect)((function(){if(void 0!==t){var e=t.getStacks(),n=[],a=[],r=[];e.forEach((function(e){"GLOBAL"!==e.name?n.push(e):e.getVariables().forEach((function(e){e.address>=5e4?r.push(e):e.address>=2e4&&a.push(e)}))})),u(n),p(a),v(r)}}),[t]),Object(c.jsxs)("div",{id:"LogicalView",children:[Object(c.jsx)("div",{className:"left-content",children:Object(c.jsxs)("div",{id:"StackView",className:"content-view",children:[Object(c.jsx)("div",{className:"title",children:" Stack"}),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"content",children:l.map((function(e){var t=e.name.indexOf("."),a=t>0?e.name.substring(0,t):e.name;return Object(c.jsx)(Vt,{funcName:a,variables:e.getVariables(),selectedVar:n,handleClick:r},e.name)}))})})]})}),Object(c.jsxs)("div",{className:"right-content",children:[Object(c.jsxs)("div",{id:"HeapView",className:"content-view",children:[Object(c.jsx)("div",{className:"title",children:"Heap"}),Object(c.jsx)("div",{className:"content",children:g.map((function(e){return Object(c.jsx)(Nt,{variable:Tt(e),selectedVar:n,handleClick:r},e.address)}))})]}),Object(c.jsxs)("div",{id:"GlobalStaticView",className:"content-view",children:[Object(c.jsx)("div",{className:"title",children:"Global / Static"}),Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:"content",children:m.map((function(e){return Object(c.jsx)(Nt,{variable:Bt(e),selectedVar:n,handleClick:r},e.address)}))})})]})]})]})},Tt=function formatHeapVariable(e){return Object.assign(e,{name:"",parentName:'"Heap"'})},Bt=function formatGSVariable(e){return Object.assign(e,{parentName:'"Global / Static"'})},It=(n(336),n.p+"static/media/intLegend1.9d48d5be.svg"),Ft=n.p+"static/media/intLegend2.82e5a4df.svg",Ht=n.p+"static/media/intLegend3.e9b30394.svg",Dt=n.p+"static/media/intLegend4.b23d6967.svg",Mt=n.p+"static/media/intMark1.de497863.svg",_t=n.p+"static/media/intMark2.a9b0c78d.svg",Pt=function IntegerBinaryCode(e){var t=e.variable,n=signMagn(t),a=oneComp(t),r=function twoComp(e){if("int"===e.type){if(e.getValue()>=0)return signMagn(e);var t=oneComp(e);return"1"+d2b(parseInt(t,2)+1,31)}return"X"}(t),i="1"===n[0];return Object(c.jsxs)("svg",{id:"IntegerBinaryCode",height:"100%",width:"100%",fill:"#8b8b8b",children:[Object(c.jsx)("text",{y:16,children:"Binary Code"}),Object(c.jsxs)("g",{id:"legend",transform:"translate(110 5)",children:[Object(c.jsx)("image",{xlinkHref:It}),Object(c.jsx)("image",{x:80,xlinkHref:Ft}),Object(c.jsx)("image",{x:165,y:2,xlinkHref:Ht}),Object(c.jsx)("image",{x:205,y:2,xlinkHref:Dt})]}),Object(c.jsxs)("g",{id:"bianryCode0",className:"value-text",transform:"translate(0 45)",children:[Object(c.jsx)("text",{children:"Sign-Magnitude"}),Object(c.jsx)("text",{className:ve()("variable-value",i?"sign-bit-neg":"sign-bit-pos"),y:20,children:n.substring(0,1)}),Object(c.jsx)("text",{className:"variable-value",x:8,y:20,children:n.substring(1)})]}),Object(c.jsxs)("g",{id:"bianryCode1",className:"value-text",transform:"translate(0 90)",children:[Object(c.jsx)("text",{children:"One's Complement"}),Object(c.jsx)("text",{className:ve()("variable-value",i?"sign-bit-neg":"sign-bit-pos"),y:20,children:a.substring(0,1)}),Object(c.jsx)("text",{className:"variable-value",x:8,y:20,children:a.substring(1)})]}),Object(c.jsxs)("g",{id:"bianryCode2",className:"value-text",transform:"translate(0 135)",children:[Object(c.jsx)("text",{children:"Two's Complement"}),Object(c.jsx)("text",{className:ve()("variable-value",i?"sign-bit-neg":"sign-bit-pos"),y:20,children:r.substring(0,1)}),Object(c.jsx)("text",{className:"variable-value",x:8,y:20,children:r.substring(1)})]}),Object(c.jsx)("defs",{children:Object(c.jsx)("marker",{id:"arrow-tip",refX:"8",refY:"6",viewBox:"0 0 16 16",markerWidth:"8",markerHeight:"8",markerUnits:"userSpaceOnUse",orient:"auto",children:Object(c.jsx)("path",{d:"M 0 0 12 6 0 12 3 6 Z"})})}),i?Object(c.jsxs)("g",{children:[Object(c.jsxs)("g",{id:"underline",children:[Object(c.jsx)("line",{x1:9,y1:69,x2:250,y2:69}),Object(c.jsx)("line",{x1:9,y1:114,x2:250,y2:114}),Object(c.jsx)("line",{x1:1,y1:120,x2:250,y2:120}),Object(c.jsx)("line",{x1:9,y1:159,x2:250,y2:159})]}),Object(c.jsxs)("g",{id:"arrows",children:[Object(c.jsx)("polyline",{points:"260,69 280,69 280,114 260,114",markerEnd:"url(#arrow-tip)",fill:"none"}),Object(c.jsx)("polyline",{points:"260,120 280,120 280,159 260,159",markerEnd:"url(#arrow-tip)",fill:"none"})]}),Object(c.jsxs)("g",{id:"mark",children:[Object(c.jsx)("image",{x:290,y:85,xlinkHref:Mt}),Object(c.jsx)("image",{x:290,y:132,xlinkHref:_t})]})]}):Object(c.jsx)("g",{})]})};function d2b(e,t){return(Array(t).join("0")+e.toString(2)).slice(-t).replace("-","0")}function signMagn(e){if("int"===e.type){var t=e.getValue();return(t>=0?"0":"1")+d2b(t,31)}return"X"}function oneComp(e){if("int"===e.type){var t=e.getValue();if(t>=0)return signMagn(e);return"1"+d2b(t,31).replace(/1|0/g,(function(e){return"0"===e?"1":"0"}))}return"X"}var Ut=function FloatBinaryCode(e){var t=e.variable,n=Wt(t),a=n.sign,r=n.exponent,i=n.mantissa;return Object(c.jsxs)("svg",{id:"FloatBinaryCode",height:"100%",width:"100%",fill:"#8b8b8b",children:[Object(c.jsx)("text",{y:16,children:"Binary Code"}),Object(c.jsxs)("g",{transform:"translate(20, 0)",children:[Object(c.jsx)("text",{y:60,className:ve()("variable-value","1"===a?"sign-bit-neg":"sign-bit-pos"),children:a}),Object(c.jsx)("text",{x:12,y:60,className:"variable-value",children:r}),Object(c.jsx)("text",{x:80,y:60,className:"variable-value",children:i}),Object(c.jsxs)("g",{id:"underline",children:[Object(c.jsx)("line",{x1:0,y1:64,x2:8,y2:64}),Object(c.jsx)("line",{x1:12,y1:64,x2:74,y2:64}),Object(c.jsx)("line",{x1:80,y1:64,x2:258,y2:64})]})]}),Object(c.jsxs)("g",{id:"arrows",children:[Object(c.jsx)("polyline",{points:"24,69 12,84",fill:"none"}),Object(c.jsx)("polyline",{points:"63,69 63,84",fill:"none"}),Object(c.jsx)("polyline",{points:"183,69 183,84",fill:"none"}),Object(c.jsx)("text",{x:0,y:100,children:"sign"}),Object(c.jsx)("text",{x:33,y:100,children:"exponent"}),Object(c.jsx)("text",{x:155,y:100,children:"mantissa"})]})]})},Wt=function float2binary(e){var t=e.getValue().toString(2),n="-"===t[0]?"1":"0",a=(t=t.replace("-","")).indexOf("."),r=t.indexOf("1");return{sign:n,exponent:(Array(8).join("0")+(a-r-1+127).toString(2)).slice(-8),mantissa:(t.substring(r+1).replace(".","")+Array(24).join("0")).slice(0,23)}},Lt=function DefaultBinayCode(){return Object(c.jsx)("svg",{id:"DefaultBinayCode",height:"100%",width:"100%",children:Object(c.jsx)("text",{y:16,fill:"#8b8b8b",children:"Binary Code"})})};var Rt=function BinaryCodeSvg(e){return function getBinaryCodeSvg(e){switch(e.type){case"int":return Object(c.jsx)(Pt,{variable:e});case"float":return Object(c.jsx)(Ut,{variable:e});default:return Object(c.jsx)(Lt,{})}}(e.variable)},zt={funcName:"X",varName:"X",address:"X",type:"X",value:"X"};var Gt=function MemoryDetail(e){var t=e.variable,n=t.address>0?{funcName:t.parentName?t.parentName:"",varName:t.name?t.name:"-",address:"0x"+t.address.toString(16),type:t.type,value:t.getValue().toString()}:zt;return Object(c.jsx)("div",{id:"MemoryDetail",children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"detail-item"}),Object(c.jsxs)("div",{className:"detail-item",children:[Object(c.jsx)("div",{className:"item-name",children:"Function Name"}),Object(c.jsx)("div",{className:"item-value",children:n.funcName})]}),Object(c.jsxs)("div",{className:"detail-item",children:[Object(c.jsx)("div",{className:"item-name",children:"Variable Name"}),Object(c.jsx)("div",{className:"item-value variable-name",children:n.varName})]}),Object(c.jsxs)("div",{className:"detail-item",children:[Object(c.jsx)("div",{className:"item-name",children:"Address"}),Object(c.jsx)("div",{className:"item-value",children:n.address})]}),Object(c.jsxs)("div",{className:"type-value-detail",children:[Object(c.jsxs)("div",{className:"detail-item dashed-border-right",children:[Object(c.jsx)("div",{className:"item-name",children:"Type"}),Object(c.jsx)("div",{className:"item-value",children:n.type})]}),Object(c.jsxs)("div",{className:"detail-item",children:[Object(c.jsx)("div",{className:"item-name",children:"Value"}),Object(c.jsx)("div",{className:"item-value",children:n.value})]})]}),Object(c.jsx)("div",{id:"BinaryCodeSvg",children:Object(c.jsx)(Rt,{variable:t})})]})})},$t=(n(809),function PhysicalMemoryCell(e){var t=e.variable,n=e.selectedVar,a=e.handleClick,r=t.name,i=t.type,s=t.address;return"]"!==i[-1]?Object(c.jsxs)("div",{className:ve()("memory-cell","memory-cell-physic",{active:(null===n||void 0===n?void 0:n.address)===s,"in-heap":""===r,disabled:!i}),onClick:i?function(){a(t)}:function(){},children:[Object(c.jsx)("div",{className:"col-name variable-name",children:r}),Object(c.jsxs)("div",{className:"col-value",children:[Object(c.jsx)("div",{className:"col-1",children:i}),Object(c.jsx)("div",{className:"col-2",children:function getValue(){var e=t.getValue();return"char"===i?"'"+String.fromCharCode(e)+"'":e instanceof Array?"0x"+function firstVarInArr(e){for(;e[0].getValue()instanceof Array;)e=e[0].getValue();return e[0]}(e).address.toString(16):e.toString()}()})]}),Object(c.jsx)("div",{className:"col-address",children:i?s:""})]}):Object(c.jsx)("div",{})});var Xt=function PhysicalView(e){var t=e.execState,n=e.selectedVar,a=e.handleClick,r=[],i=0;return void 0!==t&&t.getStacks().forEach((function(e){e.getVariables().forEach((function(t){i!==t.address&&r.push(new St.Variable("","","...",i,0)),"GLOBAL"===e.name?t.address>=5e4?r.push(Bt(t)):r.push(Tt(t)):r.push(t),i=t.address+t.getByteSize()}))})),Object(c.jsx)("div",{id:"PhysicalView",children:r.map((function(e){return Object(c.jsx)($t,{variable:e,selectedVar:n,handleClick:a},e.address)}))})};n(810);var qt=function SubtitleBlock(e){var t=e.title,n=e.isActive,a=e.handleClick;return Object(c.jsx)("div",{className:ve()("subtitle-block",{"subtitle-active":n}),onClick:a,children:t})},Jt=(n(811),new St.Variable("","","",-1,-1));var Kt=function MemoryPanel(e){var t=e.execState,n=Object(a.useState)("logical"),r=Object(o.a)(n,2),i=r[0],s=r[1],l=Object(a.useState)(),u=Object(o.a)(l,2),d=u[0],h=u[1],g=Object(a.useState)(Jt),b=Object(o.a)(g,2),f=b[0],m=b[1],v=function handleModeChange(e){s(e)},j=function handleSelectMemory(e){e.address===(null===d||void 0===d?void 0:d.address)?O():(m(d||Jt),h(e))},O=function hideDetail(){m(d||Jt),h(void 0)};return Object(c.jsxs)("div",{id:"MemoryPanel",className:ve()("panel",{"show-detail":void 0!==d,"hide-detail":void 0===d}),children:[Object(c.jsx)(p,{title:"Memory"}),Object(c.jsxs)("div",{className:"subtitle-1",children:[Object(c.jsx)("div",{className:"subtitle-area",children:Object(c.jsx)(qt,{title:"Logical View",isActive:"logical"===i,handleClick:function handleClick(){return v("logical")}})}),Object(c.jsx)("div",{className:"subtitle-area",children:Object(c.jsx)(qt,{title:"Physical View",isActive:"physical"===i,handleClick:function handleClick(){return v("physical")}})})]}),Object(c.jsx)("div",{className:"main-area",children:"logical"===i?Object(c.jsx)(Et,{execState:t,selectedVar:d,handleClick:j}):Object(c.jsx)(Xt,{execState:t,selectedVar:d,handleClick:j})}),Object(c.jsx)("div",{className:"subtitle-area",children:Object(c.jsx)(qt,{title:"Memory Detail",isActive:void 0!==d,handleClick:function handleClick(){void 0!==d?O():h(void 0!==f?f:Jt)}})}),Object(c.jsx)("div",{className:"detail-area",children:Object(c.jsx)(Gt,{variable:d||f})})]})},Yt=n(464),Zt=n.n(Yt),Qt=n(830),en=n.p+"static/media/logo.45f1b46f.svg",tn=n.p+"static/media/info.418cedcd.svg",nn=n.p+"static/media/icon2.be04ef97.svg",an=(n(823),function content(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("p",{children:"Source Editor \u7f16\u8f91\u5668\u9762\u677f\uff1a\u6e90\u4ee3\u7801\u8f93\u5165\uff0c\u70b9\u51fb\u5de6\u4fa7\u884c\u53f7\u9ad8\u4eae\u76f8\u5e94\u8bed\u53e5"}),Object(c.jsx)("p",{children:"Input / Output \u4ee3\u7801\u8f93\u5165\u8f93\u51fa\uff1aInput \u9700\u8981\u5728\u7a0b\u5e8f\u6267\u884c\u524d\u8f93\u5165\u5185\u5bb9\uff0c\u7a0b\u5e8f\u6267\u884c\u540e\u66f4\u6539 Input \u9700\u8981\u91cd\u65b0\u8fd0\u884c"}),Object(c.jsx)("p",{children:"Timeline \u65f6\u95f4\u7ebf\u9762\u677f\uff1a\u70b9\u51fb\u63a7\u5236\u6309\u94ae\u6216\u65f6\u95f4\u8f74\u63a7\u5236\u6d41\u7a0b\uff1b\u5c55\u793a\u9ad8\u4eae\u8bed\u53e5\u6267\u884c\u6b65\u9aa4\uff0c\u53ef\u70b9\u51fb\u53f3\u4fa7\u9762\u677f\u663e\u793a/\u9690\u85cf\u9ad8\u4eae"}),Object(c.jsx)("p",{children:"Call Stack \u8c03\u7528\u6808\u9762\u677f\uff1a\u5c55\u793a\u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u4e0e\u53d8\u91cf\u53d8\u5316"}),Object(c.jsx)("p",{children:"Memory \u5185\u5b58\u9762\u677f\uff1a\u5c55\u793a\u5185\u5b58\u7684\u903b\u8f91\u89c6\u56fe\u3001\u5185\u5b58\u7ec6\u8282\u4fe1\u606f\u3001\u4ee5\u53caint\u4e0efloat\u7c7b\u578b\u7684\u4e8c\u8fdb\u5236\u8868\u8fbe"}),Object(c.jsx)("p",{children:'\u5feb\u6377\u952e\uff1a\u5f00\u59cb/\u91cd\u65b0\u5f00\u59cb "Ctrl + Enter" | \u4e0a\u4e00\u6b65 "\u2190" | \u4e0b\u4e00\u6b65 "\u2192" '}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{children:"\uff01scanf \u6bcf\u6b21\u53ea\u80fd\u8bfb\u5165\u4e00\u4e2a\u53c2\u6570\uff0c\u5982\u679c\u9700\u8981\u4e00\u6b21\u8bfb\u5165\u591a\u4e2a\u53c2\u6570\uff0c\u5efa\u8bae\u5199\u591a\u4e2a scanf"}),Object(c.jsx)("p",{children:'\uff01\u8d1f\u6570\u6d6e\u70b9\u6570\u58f0\u660e\u9700\u8981\u5728\u8d1f\u53f7\u524d\u52a0 0\uff0c\u4f8b\u5982"float a= 0 - 1.0"'}),Object(c.jsx)("p",{children:"\uff01\u672c\u5de5\u5177\u4ec5\u63d0\u4f9b\u53ef\u89c6\u5316\u529f\u80fd\uff0c\u7f16\u8bd1\u5668\u80fd\u529b\u8f83\u5f31\uff0c\u8bf7\u5728\u672c\u5730IDE\u4e2d\u786e\u8ba4\u7f16\u8bd1\u901a\u8fc7\u540e\u518d\u4f7f\u7528\u672c\u5de5\u5177\u6267\u884c\u3002"}),Object(c.jsx)("p",{children:"* \u63a8\u8350\u5728 Chrome/Edge \u6d4f\u89c8\u5668\u81f3\u5c11 1920\xd71080 \u5206\u8fa8\u7387\u4e0b\u4f7f\u7528 \uff08\u5185\u5bb9\u663e\u793a\u4e0d\u5168\u53ef\u5728\u6d4f\u89c8\u5668\u4f7f\u7528 'Ctrl' + '+'/'-' \u8c03\u8282\u7f29\u653e\uff09"}),Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{style:{fontWeight:600},children:"\u5173\u4e8e\u65e0\u6cd5\u5224\u65ad EOF \u7684\u95ee\u9898\u53ca\u89e3\u51b3\u529e\u6cd5"}),Object(c.jsx)("p",{children:"\u5f53\u524d\u7684\u5de5\u5177\u65e0\u6cd5\u5224\u65adEOF\uff0c\u5efa\u8bae\u4f7f\u7528\u7279\u6b8a\u7684\u5199\u6cd5\u66ff\u4ee3\u3002"}),Object(c.jsx)("p",{children:'\u4e0d\u652f\u6301\u7684\u5199\u6cd5\uff1awhile (scanf("%d", &x) != EOF)'}),Object(c.jsx)("p",{children:'\u5efa\u8bae\u7684\u5199\u6cd5\uff1awhile (scanf("%d", &x) && x == x)'}),Object(c.jsx)("hr",{}),Object(c.jsx)("h4",{style:{fontWeight:600},children:"2021/10/13 \u66f4\u65b0"}),Object(c.jsx)("p",{children:"1. Console \u7a97\u53e3\u4fee\u6539\u4e3a Input / Output\uff0c\u652f\u6301\u8f93\u5165"}),Object(c.jsx)("p",{children:"2. Memory \u89c6\u56fe\u4e2d\u652f\u6301\u6570\u7ec4\u7c7b\u578b"}),Object(c.jsx)("p",{children:"3. \u65b0\u589e \u81ea\u5b9a\u4e49\u52a8\u753b\u901f\u5ea6"}),Object(c.jsx)("h4",{style:{fontWeight:600},children:"2021/10/08 \u66f4\u65b0"}),Object(c.jsx)("p",{children:"1. \u65b0\u589e Call Stack \u52a8\u753b\u7684 GIF \u5f55\u5236/\u4e0b\u8f7d\u529f\u80fd"}),Object(c.jsx)("p",{children:"2. \u65b0\u589e Physical View"}),Object(c.jsx)("p",{children:"3. \u66f4\u65b0 Call Stack \u6837\u5f0f"})]})});var rn=function AppHeader(){return Object(c.jsxs)("div",{id:"AppHeader",children:[Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("svg",{width:400,height:64,children:Object(c.jsx)("image",{xlinkHref:en,height:"64",width:"400"})})}),Object(c.jsxs)("div",{className:"menu",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{className:"menu-item",children:Object(c.jsx)(Qt.a,{placement:"bottom",title:"\u63d0\u793a",content:an,trigger:"click",overlayClassName:"info-popover",children:Object(c.jsx)("svg",{width:22,height:22,children:Object(c.jsx)("image",{xlinkHref:tn,height:"22",width:"22"})})})}),Object(c.jsx)("div",{className:"menu-item",children:Object(c.jsx)("svg",{width:20,height:20,children:Object(c.jsx)("image",{xlinkHref:nn,height:"20",width:"20"})})})]})]})};var sn=function App_App(){var e=Object(a.useState)(),t=Object(o.a)(e,2),n=t[0],s=t[1],l=Object(a.useState)(),u=Object(o.a)(l,2),d=u[0],h=u[1],g=Object(a.useState)([]),p=Object(o.a)(g,2),b=p[0],f=p[1],m=r.a.createRef();Object(a.useEffect)((function(){return Object(M.c)("draw",(function(e,t){Object(i.unstable_batchedUpdates)((function(){s(e),h(t)}))})),function(){Object(M.a)("draw")}}),[]);var v=function updVariableShowUps(e){f(e)};return Object(c.jsxs)("div",{className:"App",ref:m,onKeyDown:function handleKeyDown(e){switch(e.key){case"ArrowRight":e.preventDefault(),Object(M.b)("debug","Step");break;case"ArrowLeft":e.preventDefault(),Object(M.b)("debug","StepBack")}if(e.ctrlKey&&"Enter"===e.key){var t;null===(t=m.current)||void 0===t||t.focus(),Object(M.b)("debug","Start");var n=sessionStorage.getItem("arrowList"),a=null===n?{}:JSON.parse(n);a||(a={}),Object.keys(a).forEach((function(e){D.g("#svg").select("#block_".concat(e)).attr("transform","matrix(1,0,0,1,0,0)")}));var r=sessionStorage.getItem("sourceCode");sessionStorage.clear(),r&&sessionStorage.setItem("sourceCode",r)}},tabIndex:-1,children:[Object(c.jsx)("div",{className:"Row-1",children:Object(c.jsx)(rn,{})}),Object(c.jsxs)("div",{className:"Row-2",children:[Object(c.jsxs)("div",{className:"Col-1",children:[Object(c.jsx)(ue,{}),Object(c.jsx)(xe,{})]}),Object(c.jsx)("div",{className:"Col-2",children:Object(c.jsx)(Zt.a,{children:function children(e){var t=e.width,a=e.height;return Object(c.jsxs)(r.a.Fragment,{children:[Object(c.jsx)(We,{variableShowUps:b,updVariableShowUps:v}),Object(c.jsx)(jt,{width:t,height:a,execState:n,lastState:d,variableShowUps:b})]})}})}),Object(c.jsx)("div",{className:"Col-3",children:Object(c.jsx)(Kt,{execState:n})})]})]})},on=function reportWebVitals(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,833)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))},cn=n(267),ln=Object(cn.a)({highlight:ie,compiler:ge}),un=Object(cn.b)(ln);s.a.render(Object(c.jsx)(R.a,{store:un,children:Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(sn,{})})}),document.getElementById("root")),on()}},[[824,1,2]]]);
//# sourceMappingURL=main.8964d117.chunk.js.map